<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PixyAi Pro - Ø¨ÙˆØª ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø°ÙƒÙŠ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #2d2e33;
            --secondary-color: #4f4f50;
            --accent-color: #494949be;
            --dark-color: #1a1a2e;
            --light-color: #f8f9fa;
            --success-color: #4cc9f0;
            --warning-color: #f8961e;
            --danger-color: #ef233c;
            --gray-color: #6c757d;
            --bg-gradient: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            --card-bg: rgba(255, 255, 255, 0.08);
            --card-border: rgba(255, 255, 255, 0.1);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.7);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 15px 30px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid var(--card-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .logo-icon {
            background: var(--accent-color);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
        }

        /* Button Styles */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            text-align: center;
        }

        .btn-primary {
            background: var(--accent-color);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.63);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-outline {
            background: transparent;
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 13px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .btn-primary:hover {
            background: #a1a1a1;
            box-shadow: 0 8px 25px rgba(45, 38, 48, 0.4);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Main Content Layout */
        .main-content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        /* Sidebar Styles */
        .sidebar {
            background: var(--card-bg);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid var(--card-border);
            height: fit-content;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .sidebar-section {
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar-section:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .sidebar-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        /* User Info Styles */
        .user-info {
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--bg-gradient);
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            font-weight: bold;
            color: white;
        }

        .user-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .user-email {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .subscription-status {
            display: inline-block;
            padding: 6px 15px;
            border-radius: 50px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .status-free {
            background: var(--gray-color);
        }

        .status-pro {
            background: linear-gradient(45deg, var(--accent-color), #f7f7f7);
        }

        .status-enterprise {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        }

        .usage-info {
            margin-top: 15px;
        }

        .usage-text {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            margin-bottom: 5px;
            color: var(--text-secondary);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color), #f7f7f7);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        /* Language Tags */
        .language-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 15px 0;
        }

        .language-tag {
            background: rgba(67, 97, 238, 0.2);
            border: 1px solid rgba(67, 97, 238, 0.3);
            padding: 6px 12px;
            border-radius: 50px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* File Upload Styles */
        .file-upload {
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin: 20px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(0, 0, 0, 0.1);
        }

        .file-upload:hover {
            border-color: var(--accent-color);
            background: rgba(104, 102, 104, 0.637);
        }

        .file-upload-icon {
            font-size: 40px;
            margin-bottom: 10px;
            color: var(--accent-color);
        }

        .file-upload-text {
            margin-bottom: 5px;
        }

        .file-upload-subtext {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* Uploaded Files List */
        .uploaded-files-list {
            list-style: none;
            margin-top: 15px;
        }

        .file-item {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .file-item:hover {
            background: rgba(0, 0, 0, 0.3);
        }

        .file-info {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
        }

        .file-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: rgba(67, 97, 238, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
        }

        .file-details {
            flex: 1;
        }

        .file-name {
            font-size: 14px;
            margin-bottom: 3px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .file-meta {
            display: flex;
            gap: 10px;
            font-size: 11px;
            color: var(--text-secondary);
        }

        .file-actions {
            display: flex;
            gap: 5px;
        }

        /* Features List */
        .features-list {
            list-style: none;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .feature-item:last-child {
            border-bottom: none;
        }

        .feature-icon {
            color: var(--accent-color);
        }

        /* Chat Area Styles */
        .chat-area {
            background: var(--card-bg);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 0;
            border: 1px solid var(--card-border);
            display: flex;
            flex-direction: column;
            height: 700px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .chat-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chat-title {
            font-size: 18px;
            font-weight: 600;
        }

        .chat-tabs {
            display: flex;
            margin-right: auto;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 5px;
        }

        .chat-tab {
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chat-tab.active {
            background: var(--accent-color);
            font-weight: 600;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 80%;
            padding: 15px 20px;
            border-radius: 18px;
            animation: fadeIn 0.3s ease;
            position: relative;
            line-height: 1.5;
        }

        .user-message {
            background: linear-gradient(135deg, var(--primary-color), #4895ef);
            margin-left: auto;
            border-bottom-right-radius: 5px;
            box-shadow: 0 4px 15px rgba(67, 97, 238, 0.2);
        }

        .bot-message {
            background: rgba(255, 255, 255, 0.1);
            margin-right: auto;
            border-bottom-left-radius: 5px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .message-time {
            font-size: 11px;
            color: var(--text-secondary);
            margin-top: 5px;
            text-align: left;
        }

        .user-message .message-time {
            text-align: right;
        }

        .chat-input-container {
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.1);
        }

        .chat-input {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chat-input input {
            flex: 1;
            padding: 15px 20px;
            border: none;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 15px;
            transition: all 0.3s ease;
        }

        .chat-input input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 0 2px rgba(67, 97, 238, 0.3);
        }

        .chat-input input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .send-button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--accent-color);
            border: none;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.63);
        }

        .send-button:hover {
            background: #a1a1a1;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(45, 38, 48, 0.4);
        }

        /* Code Editor Styles */
        .code-editor {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            white-space: pre-wrap;
            overflow-x: auto;
            margin: 15px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-family: 'Tajawal', sans-serif;
        }

        .code-language {
            background: rgba(0, 0, 0, 0.3);
            padding: 3px 10px;
            border-radius: 50px;
            font-size: 12px;
            text-transform: uppercase;
        }

        .code-actions {
            display: flex;
            gap: 10px;
        }

        .code-action {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .code-action:hover {
            background: var(--accent-color);
        }

        /* Features Section */
        .features-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .feature-card {
            background: var(--card-bg);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--card-border);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        .feature-icon {
            font-size: 40px;
            margin-bottom: 20px;
            color: var(--accent-color);
            width: 70px;
            height: 70px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(104, 102, 104, 0.637);
        }

        .feature-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .feature-description {
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Pricing Section */
        .pricing-section {
            background: var(--card-bg);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 40px;
            border: 1px solid var(--card-border);
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .section-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--accent-color), var(--primary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-subtitle {
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        .pricing-plans {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .plan-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .plan-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        .plan-card.popular {
            border: 1px solid var(--accent-color);
            transform: scale(1.02);
        }

        .plan-card.popular::before {
            content: 'Ø§Ù„Ø£ÙƒØ«Ø± Ø´Ù‡Ø±Ø©';
            position: absolute;
            top: 15px;
            left: 15px;
            background: var(--accent-color);
            color: white;
            padding: 3px 10px;
            border-radius: 50px;
            font-size: 12px;
            font-weight: 600;
        }

        .plan-name {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .plan-price {
            font-size: 40px;
            font-weight: 700;
            margin: 20px 0;
            color: white;
        }

        .plan-price small {
            font-size: 16px;
            font-weight: normal;
            color: var(--text-secondary);
        }

        .plan-features {
            list-style: none;
            margin: 30px 0;
            text-align: right;
        }

        .plan-features li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .plan-features li::before {
            content: 'âœ“';
            color: var(--success-color);
            font-weight: bold;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--dark-color);
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            max-width: 450px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-header {
            margin-bottom: 30px;
            text-align: center;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--accent-color), var(--primary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .modal-subtitle {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 15px 20px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 15px;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 0 2px rgba(238, 241, 255, 0.3);
        }

        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .form-footer {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
            color: var(--text-secondary);
        }

        .form-footer a {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 600;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Responsive Styles */
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                order: 2;
            }
            
            .chat-area {
                order: 1;
                height: 600px;
                margin-bottom: 30px;
            }
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .nav-buttons {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .pricing-plans {
                grid-template-columns: 1fr;
            }
            
            .plan-card.popular {
                transform: none;
            }
            
            .modal-content {
                width: 90%;
                padding: 30px 20px;
            }
            
            .form-actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }

        /* Utility Classes */
        .hidden {
            display: none;
        }

        .text-center {
            text-align: center;
        }

        .mt-10 {
            margin-top: 10px;
        }

        .mt-20 {
            margin-top: 20px;
        }

        .mb-10 {
            margin-bottom: 10px;
        }

        .mb-20 {
            margin-bottom: 20px;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            line-height: 1.2;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <span>PixyAi Pro</span>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="showModal('loginModal')">
                    <i class="fas fa-sign-in-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                </button>
                <button class="btn btn-primary" onclick="showModal('registerModal')">
                    <i class="fas fa-user-plus"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
                </button>
                <button class="btn btn-secondary hidden" id="logoutBtn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="user-info hidden" id="userInfo">
                    <div class="user-avatar" id="userAvatar">Ù…</div>
                    <h3 class="user-name" id="userName">Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯</h3>
                    <p class="user-email" id="userEmail">user@example.com</p>
                    <div class="subscription-status status-free" id="userStatus">Ù…Ø¬Ø§Ù†ÙŠ</div>
                    
                    <div class="usage-info">
                        <div class="usage-text">
                            <span>Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙŠÙˆÙ…</span>
                            <span id="usageText">0/10 Ø·Ù„Ø¨Ø§Øª</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="usageProgress"></div>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3 class="sidebar-title">
                        <i class="fas fa-code"></i> Ù„ØºØ§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©
                    </h3>
                    <div class="language-tags">
                        <span class="language-tag">
                            <i class="fab fa-html5"></i> HTML
                        </span>
                        <span class="language-tag">
                            <i class="fab fa-css3-alt"></i> CSS
                        </span>
                        <span class="language-tag">
                            <i class="fas fa-code"></i> Lua
                        </span>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3 class="sidebar-title">
                        <i class="fas fa-file-upload"></i> Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
                    </h3>
                    <div class="file-upload" onclick="document.getElementById('fileInput').click()">
                        <div class="file-upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <p class="file-upload-text">Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ø§Ù„Ù…Ù„Ù Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ù†Ù‚Ø± Ù„Ù„Ø±ÙØ¹</p>
                        <p class="file-upload-subtext">ÙŠØ¯Ø¹Ù…: .lua, .html, .css</p>
                    </div>
                    <input type="file" id="fileInput" style="display: none;" accept=".lua,.html,.css" onchange="handleFileUpload(this)">
                </div>

                <div class="sidebar-section" id="uploadedFilesSection">
                    <h3 class="sidebar-title">
                        <i class="fas fa-folder-open"></i> Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©
                    </h3>
                    <div id="uploadedFiles">
                        <p style="color: var(--text-secondary); text-align: center; font-size: 14px;">
                            Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„ÙØ§Øª Ù…Ø±ÙÙˆØ¹Ø© Ø¨Ø¹Ø¯
                        </p>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3 class="sidebar-title">
                        <i class="fas fa-star"></i> Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª
                    </h3>
                    <ul class="features-list">
                        <li class="feature-item">
                            <i class="fas fa-check-circle feature-icon"></i>
                            <span>ÙƒØªØ§Ø¨Ø© Ø£ÙƒÙˆØ§Ø¯ Ø°ÙƒÙŠØ©</span>
                        </li>
                        <li class="feature-item">
                            <i class="fas fa-check-circle feature-icon"></i>
                            <span>ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯</span>
                        </li>
                        <li class="feature-item">
                            <i class="fas fa-check-circle feature-icon"></i>
                            <span>Ø¯Ø¹Ù… +100K Ø³Ø·Ø±</span>
                        </li>
                        <li class="feature-item">
                            <i class="fas fa-check-circle feature-icon"></i>
                            <span>Ø³Ø±Ø¹Ø© ÙØ§Ø¦Ù‚Ø©</span>
                        </li>
                        <li class="feature-item">
                            <i class="fas fa-check-circle feature-icon"></i>
                            <span>ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡</span>
                        </li>
                    </ul>
                </div>
            </aside>

            <!-- Chat Area -->
            <div class="chat-area">
                <div class="chat-header">
                    <div class="chat-tabs">
                        <div class="chat-tab active">Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©</div>
                        <div class="chat-tab">Ø§Ù„Ø£ÙƒÙˆØ§Ø¯</div>
                        <div class="chat-tab">Ø§Ù„ØªØ§Ø±ÙŠØ®</div>
                        <div class="chat-tab" onclick="startQuizGame()"><i class="fas fa-gamepad"></i> Ù„Ø¹Ø¨Ø© Ø£Ø³Ø¦Ù„Ø©</div>
                    </div>
                    <h3 class="chat-title">
                        <i class="fas fa-robot"></i> PixyAi Pro
                    </h3>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <div class="message bot-message">
                        <div class="message-content">
                            Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ PixyAi Pro ğŸ¤–<br>
                            ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ:<br>
                            â€¢ ÙƒØªØ§Ø¨Ø© Ø£ÙƒÙˆØ§Ø¯ Lua, HTML, CSS<br>
                            â€¢ ØªØ¹Ø¯ÙŠÙ„ ÙˆØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£ÙƒÙˆØ§Ø¯<br>
                            â€¢ ÙƒØªØ§Ø¨Ø© Ø£ÙƒØ«Ø± Ù…Ù† 100,000 Ø³Ø·Ø± Ø¨Ø³Ø±Ø¹Ø©<br>
                            â€¢ ØªØ­Ù„ÙŠÙ„ ÙˆØ¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
                        </div>
                        <div class="message-time">Ø§Ù„Ø¢Ù†</div>
                    </div>
                </div>
                <div class="chat-input-container">
                    <div class="chat-input">
                        <input type="text" id="messageInput" placeholder="Ø§ÙƒØªØ¨ Ø·Ù„Ø¨Ùƒ Ù‡Ù†Ø§... Ù…Ø«Ù„: Ø§ÙƒØªØ¨ Ù„ÙŠ Ù…ÙˆÙ‚Ø¹ HTML Ø¨Ø³ÙŠØ·">
                        <button class="send-button" onclick="sendMessage()">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>


<!-- Ø£Ø¶Ù Ù‡Ø°Ø§ Ù‚Ø¨Ù„ Ù†Ù‡Ø§ÙŠØ© container -->
<div class="modal" id="quizModal">
    <div class="modal-content" style="max-width: 700px;">
        <div class="modal-header">
            <h2 class="modal-title"><i class="fas fa-trophy"></i> Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ·ÙˆØ±Ø©</h2>
            <p class="modal-subtitle">Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ø³ØªÙ…ØªØ¹ Ø¨ØªØ¬Ø±Ø¨Ø© Ù„Ø¹Ø¨ Ù…Ù…ÙŠØ²Ø©!</p>
        </div>
        <div class="quiz-settings">
            <div class="settings-grid">
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-users"></i> Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</label>
                    <select id="playersCount" class="form-input premium-select">
                        <option value="1">ğŸ® 1 Ù„Ø§Ø¹Ø¨</option>
                        <option value="2">ğŸ‘¥ 2 Ù„Ø§Ø¹Ø¨ÙŠÙ†</option>
                        <option value="3">ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦ 3 Ù„Ø§Ø¹Ø¨ÙŠÙ†</option>
                        <option value="4">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ 4 Ù„Ø§Ø¹Ø¨ÙŠÙ†</option>
                        <option value="5">ğŸ† 5 Ù„Ø§Ø¹Ø¨ÙŠÙ†</option>
                        <option value="6">â­ 6 Ù„Ø§Ø¹Ø¨ÙŠÙ†</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-star"></i> Ù†Ù‚Ø§Ø· Ø§Ù„ÙÙˆØ²</label>
                    <select id="winningPoints" class="form-input premium-select">
                        <option value="3">âš¡ 3 Ù†Ù‚Ø§Ø· - Ø³Ø±ÙŠØ¹</option>
                        <option value="5">ğŸ¯ 5 Ù†Ù‚Ø§Ø· - Ù‚ØµÙŠØ±</option>
                        <option value="10">ğŸ… 10 Ù†Ù‚Ø§Ø· - Ù…ØªÙˆØ³Ø·</option>
                        <option value="15">ğŸ† 15 Ù†Ù‚Ø·Ø© - Ø·ÙˆÙŠÙ„</option>
                        <option value="20">ğŸ‘‘ 20 Ù†Ù‚Ø·Ø© - Ù…Ø§Ø±Ø§Ø«ÙˆÙ†</option>
                        <option value="25">ğŸ’ 25 Ù†Ù‚Ø·Ø© - Ø£Ø³Ø·ÙˆØ±ÙŠ</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-list"></i> Ø§Ù„ÙØ¦Ø©</label>
                    <select id="quizCategory" class="form-input premium-select">
                        <option value="general">ğŸŒ Ø¹Ø§Ù…Ø©</option>
                        <option value="science">ğŸ”¬ Ø¹Ù„ÙˆÙ…</option>
                        <option value="history">ğŸ“š ØªØ§Ø±ÙŠØ®</option>
                        <option value="sports">âš½ Ø±ÙŠØ§Ø¶Ø©</option>
                        <option value="entertainment">ğŸ¬ ØªØ±ÙÙŠÙ‡</option>
                        <option value="technology">ğŸ’» ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§</option>
                        <option value="geography">ğŸ—ºï¸ Ø¬ØºØ±Ø§ÙÙŠØ§</option>
                        <option value="islamic">ğŸ•Œ Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</option>
                        <option value="literature">ğŸ“– Ø£Ø¯Ø¨</option>
                        <option value="math">ğŸ”¢ Ø±ÙŠØ§Ø¶ÙŠØ§Øª</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-chart-line"></i> Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©</label>
                    <select id="quizDifficulty" class="form-input premium-select">
                        <option value="easy">ğŸŸ¢ Ø³Ù‡Ù„ - Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†</option>
                        <option value="medium">ğŸŸ¡ Ù…ØªÙˆØ³Ø· - Ù„Ù„Ø®Ø¨Ø±Ø§Ø¡</option>
                        <option value="hard">ğŸ”´ ØµØ¹Ø¨ - Ù„Ù„Ù…Ø­ØªØ±ÙÙŠÙ†</option>
                        <option value="expert">ğŸ’œ Ø®Ø¨ÙŠØ± - Ù„Ù„Ø£Ø³Ø§Ø·ÙŠØ±</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-clock"></i> ÙˆÙ‚Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</label>
                    <select id="answerTime" class="form-input premium-select">
                        <option value="0">â™¾ï¸ Ø¨Ø¯ÙˆÙ† Ø­Ø¯ Ø²Ù…Ù†ÙŠ</option>
                        <option value="10">â° 10 Ø«ÙˆØ§Ù†ÙŠ</option>
                        <option value="15">â±ï¸ 15 Ø«Ø§Ù†ÙŠØ©</option>
                        <option value="20">â²ï¸ 20 Ø«Ø§Ù†ÙŠØ©</option>
                        <option value="30">ğŸ• 30 Ø«Ø§Ù†ÙŠØ©</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-volume-up"></i> Ø§Ù„Ù…Ø¤Ø«Ø±Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ©</label>
                    <select id="soundEffects" class="form-input premium-select">
                        <option value="on">ğŸ”Š Ù…ÙØ¹Ù„Ø©</option>
                        <option value="off">ğŸ”‡ Ù…Ø¹Ø·Ù„Ø©</option>
                    </select>
                </div>
            </div>
            
            <div class="form-actions">
                <button class="btn btn-primary premium-btn" onclick="startQuiz()">
                    <i class="fas fa-play"></i> Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
                </button>
                <button class="btn btn-secondary" onclick="closeModal('quizModal')">
                    <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Ø£Ø¶Ù Ù‡Ø°Ø§ Ù‚Ø¨Ù„ Ù†Ù‡Ø§ÙŠØ© container -->
<div class="modal" id="quizGameModal">
    <div class="modal-content" style="max-width: 900px;">
        <div class="quiz-game-container">
            <div class="quiz-header">
                <div class="quiz-timer" id="quizTimer" style="display: none;">
                    <i class="fas fa-stopwatch"></i>
                    <span id="timeLeft">15</span>
                </div>
                <h2 id="quizQuestion" class="question-text">Ø§Ù„Ø³Ø¤Ø§Ù„ ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§</h2>
                <div class="quiz-progress">
                    <div class="progress-info">
                        <span id="quizProgress">Ø§Ù„Ø³Ø¤Ø§Ù„ 1 Ù…Ù† 10</span>
                        <span id="categoryDisplay" class="category-badge">Ø¹Ø§Ù…Ø©</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="quizProgressBar"></div>
                    </div>
                </div>
            </div>
            
            <div class="quiz-options" id="quizOptions">
                <!-- Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
            </div>
            
            <div class="quiz-players" id="quizPlayers">
                <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
            </div>
            
            <div class="quiz-stats" id="quizStats">
                <div class="stat-item">
                    <i class="fas fa-check-circle"></i>
                    <span>ØµØ­ÙŠØ­Ø©: <span id="correctAnswers">0</span></span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-times-circle"></i>
                    <span>Ø®Ø§Ø·Ø¦Ø©: <span id="wrongAnswers">0</span></span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-percentage"></i>
                    <span>Ø§Ù„Ù†Ø³Ø¨Ø©: <span id="successRate">0%</span></span>
                </div>
            </div>
            
            <div class="quiz-actions">
                <button class="btn btn-secondary" onclick="pauseQuiz()" id="pauseBtn">
                    <i class="fas fa-pause"></i> Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª
                </button>
                <button class="btn btn-danger" onclick="endQuiz()">
                    <i class="fas fa-stop"></i> Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
                </button>
                <button class="btn btn-primary hidden" id="nextQuestionBtn" onclick="nextQuestion()">
                    <i class="fas fa-arrow-right"></i> Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© -->
<div class="modal" id="resultsModal">
    <div class="modal-content" style="max-width: 600px;">
        <div class="modal-header results-header">
            <h2 class="modal-title"><i class="fas fa-trophy"></i> Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h2>
        </div>
        <div class="results-content" id="resultsContent">
            <!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
        </div>
        <div class="form-actions">
            <button class="btn btn-primary" onclick="startQuizGame(); closeModal('resultsModal')">
                <i class="fas fa-redo"></i> Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©
            </button>
            <button class="btn btn-secondary" onclick="closeModal('resultsModal')">
                <i class="fas fa-times"></i> Ø¥ØºÙ„Ø§Ù‚
            </button>
        </div>
    </div>
</div>

<!-- Ø£Ø¶Ù Ù‡Ø°Ø§ ÙÙŠ Ù‚Ø³Ù… Ø§Ù„Ù€ style -->
<!-- Ø£Ø¶Ù Ù‡Ø°Ø§ ÙÙŠ Ù‚Ø³Ù… Ø§Ù„Ù€ style -->
<style>
    .settings-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        padding: 25px;
    }
    
    .quiz-settings {
        background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
        border-radius: 15px;
        backdrop-filter: blur(10px);
    }
    
    .form-group {
        background: rgba(255,255,255,0.08);
        padding: 20px;
        border-radius: 12px;
        border: 1px solid rgba(255,255,255,0.1);
        transition: all 0.3s ease;
    }
    
    .form-group:hover {
        background: rgba(255,255,255,0.12);
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    }
    
    .form-label {
        display: block;
        margin-bottom: 10px;
        font-weight: 600;
        color: #fff;
        font-size: 14px;
    }
    
    .form-label i {
        margin-left: 8px;
        color: #4facfe;
    }
    
    .premium-select {
        width: 100%;
        padding: 12px 15px;
        border: 2px solid rgba(255,255,255,0.2);
        border-radius: 8px;
        background: rgba(255,255,255,0.1);
        color: #fff;
        font-size: 14px;
        transition: all 0.3s ease;
    }
    
    .premium-select:focus {
        border-color: #4facfe;
        background: rgba(255,255,255,0.15);
        outline: none;
        box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.2);
    }
    
    .premium-select option {
        background: #2a2a2a;
        color: #fff;
        padding: 10px;
    }
    
    .quiz-game-container {
        padding: 25px;
        background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
        border-radius: 15px;
        backdrop-filter: blur(10px);
    }
    
    .quiz-header {
        text-align: center;
        margin-bottom: 30px;
        position: relative;
    }
    
    .quiz-timer {
        position: absolute;
        top: -10px;
        right: 0;
        background: linear-gradient(135deg, #ff6b6b, #ee5a52);
        color: white;
        padding: 8px 15px;
        border-radius: 20px;
        font-weight: bold;
        animation: pulse 1s infinite;
    }
    
    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }
    
    .question-text {
        font-size: 24px;
        margin-bottom: 20px;
        color: #fff;
        line-height: 1.4;
        padding: 20px;
        background: rgba(255,255,255,0.1);
        border-radius: 12px;
        border: 1px solid rgba(255,255,255,0.2);
    }
    
    .quiz-progress {
        margin-bottom: 25px;
    }
    
    .progress-info {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }
    
    .category-badge {
        background: linear-gradient(135deg, #00f2fe, #00f2fe);
        color: white;
        padding: 5px 12px;
        border-radius: 15px;
        font-size: 12px;
        font-weight: 600;
    }
    
    .progress-bar {
        width: 100%;
        height: 8px;
        background: rgba(255,255,255,0.2);
        border-radius: 10px;
        overflow: hidden;
    }
    
    .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #4facfe, #00f2fe);
        border-radius: 10px;
        transition: width 0.5s ease;
    }
    
    .quiz-options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin-bottom: 30px;
    }
    
    @media (max-width: 600px) {
        .quiz-options {
            grid-template-columns: 1fr;
        }
    }
    
    .quiz-option {
        background: rgba(255,255,255,0.1);
        border: 2px solid rgba(255,255,255,0.2);
        padding: 18px;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        text-align: center;
        font-weight: 500;
        position: relative;
        overflow: hidden;
    }
    
    .quiz-option::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, rgba(79, 172, 254, 0.3), rgba(0, 242, 254, 0.3));
        transition: left 0.3s;
    }
    
    .quiz-option:hover::before {
        left: 0;
    }
    
    .quiz-option:hover {
        background: rgba(255,255,255,0.2);
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        border-color: #4facfe;
    }
    
    .quiz-option.correct {
        background: linear-gradient(135deg, rgba(76, 201, 240, 0.4), rgba(0, 242, 254, 0.4));
        border-color: #4facfe;
        animation: correctPulse 0.6s ease;
    }
    
    .quiz-option.wrong {
        background: linear-gradient(135deg, rgba(239, 35, 60, 0.4), rgba(255, 107, 107, 0.4));
        border-color: #ff6b6b;
        animation: wrongShake 0.6s ease;
    }
    
    @keyframes correctPulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }
    
    @keyframes wrongShake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-5px); }
        75% { transform: translateX(5px); }
    }
    
    .quiz-players {
        display: flex;
        justify-content: space-around;
        margin-bottom: 25px;
        flex-wrap: wrap;
        gap: 15px;
    }
    
    .quiz-player {
        background: rgba(255,255,255,0.1);
        padding: 18px;
        border-radius: 12px;
        text-align: center;
        min-width: 140px;
        border: 2px solid transparent;
        transition: all 0.3s ease;
    }
    
    .quiz-player.active {
        border-color: #4facfe;
        background: rgba(79, 172, 254, 0.2);
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(79, 172, 254, 0.3);
    }
    
    .player-name {
        font-weight: bold;
        margin-bottom: 8px;
        font-size: 14px;
    }
    
    .player-score {
        font-size: 28px;
        color: #4facfe;
        font-weight: 700;
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    
    .quiz-stats {
        display: flex;
        justify-content: center;
        gap: 25px;
        margin-bottom: 25px;
        flex-wrap: wrap;
    }
    
    .stat-item {
        background: rgba(255,255,255,0.1);
        padding: 12px 20px;
        border-radius: 20px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        font-weight: 600;
    }
    
    .stat-item i {
        font-size: 16px;
    }
    
    .stat-item:nth-child(1) i { color: #4facfe; }
    .stat-item:nth-child(2) i { color: #ff6b6b; }
    .stat-item:nth-child(3) i { color: #feca57; }
    
    .quiz-actions {
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
    }
    
    .btn {
        padding: 12px 24px;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-weight: 600;
        font-size: 14px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        align-items: center;
        gap: 8px;
        text-decoration: none;
        min-width: 120px;
        justify-content: center;
    }
    
    .btn i {
        font-size: 16px;
    }
    
    .btn-primary {
        background: linear-gradient(135deg, #4facfe, #00f2fe);
        color: white;
    }
    
    .btn-secondary {
        background: rgba(255,255,255,0.2);
        color: white;
        border: 1px solid rgba(255,255,255,0.3);
    }
    
    .btn-danger {
        background: linear-gradient(135deg, #ff6b6b, #ee5a52);
        color: white;
    }
    
    .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    }
    
    .premium-btn {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        font-size: 16px;
        padding: 15px 30px;
        position: relative;
        overflow: hidden;
    }
    
    .premium-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #764ba2, #667eea);
        transition: left 0.5s;
    }
    
    .premium-btn:hover::before {
        left: 0;
    }
    
    .premium-btn span {
        position: relative;
        z-index: 1;
    }
    
    .form-actions {
        padding: 25px;
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
    }
    
    .results-header {
        background: linear-gradient(135deg, #667eea, #764ba2);
    }
    
    .results-content {
        padding: 30px;
        text-align: center;
    }
    
    .winner-announcement {
        font-size: 24px;
        font-weight: 700;
        color: #4facfe;
        margin-bottom: 20px;
        animation: celebration 1s ease-in-out;
    }
    
    @keyframes celebration {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }
    
    .final-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        margin: 20px 0;
    }
    
    .final-stat {
        background: rgba(255,255,255,0.1);
        padding: 15px;
        border-radius: 10px;
        text-align: center;
    }
    
    .hidden {
        display: none !important;
    }
    
    @media (max-width: 768px) {
        .settings-grid {
            grid-template-columns: 1fr;
            padding: 20px;
        }
        
        .quiz-game-container {
            padding: 20px;
        }
        
        .question-text {
            font-size: 20px;
            padding: 15px;
        }
        
        .quiz-players {
            justify-content: center;
        }
        
        .quiz-stats {
            flex-direction: column;
            align-items: center;
        }
        
        .quiz-actions {
            flex-direction: column;
        }
        
        .btn {
            width: 100%;
            max-width: 250px;
        }
    }
</style>

<!-- Ø£Ø¶Ù Ù‡Ø°Ø§ ÙÙŠ Ù‚Ø³Ù… Ø§Ù„Ù€ script -->
<script>
    // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…ØªØ·ÙˆØ±Ø©
    let quizQuestions = [];
    let currentQuestionIndex = 0;
    let quizPlayers = [];
    let currentPlayerIndex = 0;
    let winningPoints = 10;
    let quizCategory = 'general';
    let quizDifficulty = 'easy';
    let answerTimeLimit = 0;
    let soundEffectsEnabled = true;
    let gameTimer = null;
    let timeLeft = 0;
    let gamePaused = false;
    let correctAnswersCount = 0;
    let wrongAnswersCount = 0;
    let gameStartTime = null;
    
    // Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©
    const quizData = {
        general: [
            {
                question: "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© ÙØ±Ù†Ø³Ø§ØŸ",
                options: ["Ù„Ù†Ø¯Ù†", "Ø¨Ø§Ø±ÙŠØ³", "Ø±ÙˆÙ…Ø§", "Ø¨Ø±Ù„ÙŠÙ†"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙˆØ§ÙƒØ¨ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠØŸ",
                options: ["7", "8", "9", "10"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                options: ["Ø§Ù„Ù†ÙŠÙ„", "Ø§Ù„Ø£Ù…Ø§Ø²ÙˆÙ†", "Ø§Ù„Ù…ÙŠØ³ÙŠØ³ÙŠØ¨ÙŠ", "Ø§Ù„Ø¯Ø§Ù†ÙˆØ¨"],
                answer: 0,
                difficulty: "medium"
            },
            {
                question: "ÙÙŠ Ø£ÙŠ Ù‚Ø§Ø±Ø© ØªÙ‚Ø¹ Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ØŸ",
                options: ["Ø¢Ø³ÙŠØ§", "Ø£ÙØ±ÙŠÙ‚ÙŠØ§", "Ø£Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©", "Ø£ÙˆØ±ÙˆØ¨Ø§"],
                answer: 2,
                difficulty: "easy"
            },
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ø£ÙƒØ¨Ø± Ù…Ø­ÙŠØ· ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                options: ["Ø§Ù„Ø£Ø·Ù„Ø³ÙŠ", "Ø§Ù„Ù‡Ù†Ø¯ÙŠ", "Ø§Ù„Ù‡Ø§Ø¯Ø¦", "Ø§Ù„Ù…ØªØ¬Ù…Ø¯ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠ"],
                answer: 2,
                difficulty: "medium"
            },
            {
                question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø§Ø±Ø§Øª ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                options: ["5", "6", "7", "8"],
                answer: 2,
                difficulty: "easy"
            }
        ],
        science: [
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ø§Ù„Ø°ÙŠ Ø±Ù…Ø²Ù‡ 'O'ØŸ",
                options: ["Ø°Ù‡Ø¨", "Ø£ÙƒØ³Ø¬ÙŠÙ†", "ÙØ¶Ø©", "Ø­Ø¯ÙŠØ¯"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "Ù…Ø§ Ù‡ÙŠ ÙˆØ­Ø¯Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØŸ",
                options: ["ÙÙˆÙ„Øª", "Ø£Ù…Ø¨ÙŠØ±", "ÙˆØ§Ø·", "Ø£ÙˆÙ…"],
                answer: 1,
                difficulty: "medium"
            },
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ø£Ø³Ø±Ø¹ Ø­ÙŠÙˆØ§Ù† ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                options: ["Ø§Ù„ÙÙ‡Ø¯", "Ø§Ù„Ù†Ø³Ø±", "Ø§Ù„Ø¯ÙˆÙ„ÙÙŠÙ†", "Ø§Ù„Ø£Ø±Ù†Ø¨"],
                answer: 0,
                difficulty: "easy"
            },
            {
                question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ø¸Ø§Ù… ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ø§Ù„Ø¨Ø§Ù„ØºØŸ",
                options: ["206", "215", "198", "220"],
                answer: 0,
                difficulty: "hard"
            },
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ØºØ§Ø² Ø§Ù„Ø£ÙƒØ«Ø± ÙˆÙØ±Ø© ÙÙŠ Ø§Ù„ØºÙ„Ø§Ù Ø§Ù„Ø¬ÙˆÙŠØŸ",
                options: ["Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†", "Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†", "Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†", "Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†"],
                answer: 1,
                difficulty: "medium"
            },
            {
                question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø£ØµÙ„Ø¨ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ø·Ø¨ÙŠØ¹ÙŠØ§Ù‹ØŸ",
                options: ["Ø§Ù„Ø­Ø¯ÙŠØ¯", "Ø§Ù„Ø£Ù„Ù…Ø§Ø³", "Ø§Ù„Ø°Ù‡Ø¨", "Ø§Ù„Ø¨Ù„Ø§ØªÙŠÙ†"],
                answer: 1,
                difficulty: "easy"
            }
        ],
        history: [
            {
                question: "ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ù‡Ø¨Ø· Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ù…Ø± Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©ØŸ",
                options: ["1965", "1969", "1972", "1975"],
                answer: 1,
                difficulty: "medium"
            },
            {
                question: "Ù…Ù† Ù‡Ùˆ Ø£ÙˆÙ„ Ø±Ø¦ÙŠØ³ Ù„Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ©ØŸ",
                options: ["ØªÙˆÙ…Ø§Ø³ Ø¬ÙŠÙØ±Ø³ÙˆÙ†", "Ø¬ÙˆØ±Ø¬ ÙˆØ§Ø´Ù†Ø·Ù†", "Ø£Ø¨Ø±Ø§Ù‡Ø§Ù… Ù„ÙŠÙ†ÙƒÙˆÙ„Ù†", "Ø¬ÙˆÙ† Ø¢Ø¯Ø§Ù…Ø²"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©ØŸ",
                options: ["1944", "1945", "1946", "1943"],
                answer: 1,
                difficulty: "medium"
            },
            {
                question: "Ù…Ù† Ø¨Ù†Ù‰ Ø§Ù„Ø£Ù‡Ø±Ø§Ù…Ø§Øª Ø§Ù„Ø«Ù„Ø§Ø«Ø© ÙÙŠ Ø§Ù„Ø¬ÙŠØ²Ø©ØŸ",
                options: ["Ø§Ù„Ø±ÙˆÙ…Ø§Ù†", "Ø§Ù„Ø¥ØºØ±ÙŠÙ‚", "Ø§Ù„Ù…ØµØ±ÙŠÙˆÙ† Ø§Ù„Ù‚Ø¯Ù…Ø§Ø¡", "Ø§Ù„Ø¨Ø§Ø¨Ù„ÙŠÙˆÙ†"],
                answer: 2,
                difficulty: "easy"
            },
            {
                question: "Ù…Ø§ Ù‡ÙŠ Ø£Ù‚Ø¯Ù… Ø­Ø¶Ø§Ø±Ø© ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ®ØŸ",
                options: ["Ø§Ù„Ù…ØµØ±ÙŠØ©", "Ø§Ù„Ø³ÙˆÙ…Ø±ÙŠØ©", "Ø§Ù„ØµÙŠÙ†ÙŠØ©", "Ø§Ù„Ù‡Ù†Ø¯ÙŠØ©"],
                answer: 1,
                difficulty: "hard"
            }
        ],
        sports: [
            {
                question: "ÙÙŠ Ø£ÙŠ Ø±ÙŠØ§Ø¶Ø© ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø¶Ø±Ø¨ ÙˆØ§Ù„ÙƒØ±Ø© Ø§Ù„ØµÙØ±Ø§Ø¡ØŸ",
                options: ["ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…", "Ø§Ù„ØªÙ†Ø³", "Ø§Ù„Ø¬ÙˆÙ„Ù", "Ø§Ù„ÙƒØ±ÙŠÙƒÙŠØª"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙÙŠ ÙØ±ÙŠÙ‚ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…ØŸ",
                options: ["10", "11", "12", "9"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "ÙÙŠ Ø£ÙŠ Ø¯ÙˆÙ„Ø© Ø£Ù‚ÙŠÙ…Øª Ø£ÙˆÙ„Ù…Ø¨ÙŠØ§Ø¯ 2020ØŸ",
                options: ["Ø§Ù„ØµÙŠÙ†", "Ø§Ù„ÙŠØ§Ø¨Ø§Ù†", "ÙƒÙˆØ±ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©", "Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§"],
                answer: 1,
                difficulty: "medium"
            },
            {
                question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„ØªÙŠ ØªÙÙ„Ø¹Ø¨ ÙÙŠ ÙˆÙŠÙ…Ø¨Ù„Ø¯ÙˆÙ†ØŸ",
                options: ["ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…", "Ø§Ù„ØªÙ†Ø³", "Ø§Ù„Ø¬ÙˆÙ„Ù", "Ø§Ù„ÙƒØ±ÙŠÙƒÙŠØª"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ù„Ù‚Ø§Øª ÙÙŠ Ø´Ø¹Ø§Ø± Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø£ÙˆÙ„Ù…Ø¨ÙŠØ©ØŸ",
                options: ["4", "5", "6", "7"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "ÙÙŠ Ø£ÙŠ Ø±ÙŠØ§Ø¶Ø© ÙŠÙØ³ØªØ®Ø¯Ù… Ù…ØµØ·Ù„Ø­ 'Ù‡ÙˆÙ„ Ø¥Ù† ÙˆØ§Ù†'ØŸ",
                options: ["Ø§Ù„ØªÙ†Ø³", "Ø§Ù„Ø¨ÙŠØ³Ø¨ÙˆÙ„", "Ø§Ù„Ø¬ÙˆÙ„Ù", "ÙƒØ±Ø© Ø§Ù„Ø³Ù„Ø©"],
                answer: 2,
                difficulty: "medium"
            }
        ],
        entertainment: [
            {
                question: "Ù…Ù† Ù‡Ùˆ Ù…Ù„Ùƒ Ø§Ù„Ø¨ÙˆØ¨ØŸ",
                options: ["Ù…Ø§ÙŠÙƒÙ„ Ø¬Ø§ÙƒØ³ÙˆÙ†", "Ø¥Ù„ØªÙˆÙ† Ø¬ÙˆÙ†", "Ø¬Ø§Ø³ØªÙ† Ø¨ÙŠØ¨Ø±", "Ø¨Ø±ÙˆÙ†Ùˆ Ù…Ø§Ø±Ø³"],
                answer: 0,
                difficulty: "easy"
            },
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„ Ø§Ù„ÙƒÙˆØ±ÙŠ Ø§Ù„Ø´Ù‡ÙŠØ± Ø¹Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ØŸ",
                options: ["Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ø¨Ø§Ø±", "Ø§Ù„Ø·Ø§Ø¦Ø± Ø§Ù„Ø£Ø²Ø±Ù‚", "Ù…Ù„ÙƒØ© Ø§Ù„Ø¬Ù†ÙˆØ¨", "Ø§Ù„ÙˆØ±Ø«Ø©"],
                answer: 0,
                difficulty: "easy"
            },
            {
                question: "Ù…Ù† Ø£Ø®Ø±Ø¬ ÙÙŠÙ„Ù… 'ØªØ§ÙŠØªØ§Ù†ÙŠÙƒ'ØŸ",
                options: ["Ø³ØªÙŠÙÙ† Ø³Ø¨ÙŠÙ„Ø¨Ø±Øº", "Ø¬ÙŠÙ…Ø³ ÙƒØ§Ù…ÙŠØ±ÙˆÙ†", "Ù…Ø§Ø±ØªÙ† Ø³ÙƒÙˆØ±Ø³ÙŠØ²ÙŠ", "ÙƒØ±ÙŠØ³ØªÙˆÙØ± Ù†ÙˆÙ„Ø§Ù†"],
                answer: 1,
                difficulty: "medium"
            },
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ø³Ø§Ø­Ø± Ø§Ù„Ø´Ù‡ÙŠØ± ÙÙŠ Ø³Ù„Ø³Ù„Ø© ÙƒØªØ¨ ÙˆØ£ÙÙ„Ø§Ù… Ù‡Ø§Ø±ÙŠ Ø¨ÙˆØªØ±ØŸ",
                options: ["Ù‡Ø§Ø±ÙŠ Ø¨ÙˆØªØ±", "Ø±ÙˆÙ† ÙˆÙŠØ²Ù„ÙŠ", "Ù‡ÙŠØ±Ù…Ø§ÙŠÙˆÙ† ØºØ±Ø§Ù†Ø¬Ø±", "Ø¯Ù…Ø¨Ù„Ø¯ÙˆØ±"],
                answer: 0,
                difficulty: "easy"
            },
            {
                question: "ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… ØªÙ… Ø¥Ù†ØªØ§Ø¬ ÙÙŠÙ„Ù… 'Ø£ÙØ§ØªØ§Ø±' Ø§Ù„Ø£ÙˆÙ„ØŸ",
                options: ["2007", "2008", "2009", "2010"],
                answer: 2,
                difficulty: "hard"
            }
        ],
        technology: [
            {
                question: "Ù…Ù† Ù‡Ùˆ Ù…Ø¤Ø³Ø³ Ø´Ø±ÙƒØ© Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØªØŸ",
                options: ["Ø³ØªÙŠÙ Ø¬ÙˆØ¨Ø²", "Ø¨ÙŠÙ„ ØºÙŠØªØ³", "Ù…Ø§Ø±Ùƒ Ø²ÙˆÙƒØ±Ø¨ÙŠØ±Øº", "Ø¥ÙŠÙ„ÙˆÙ† Ù…Ø§Ø³Ùƒ"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø®ØªØµØ§Ø± 'WWW'ØŸ",
                options: ["World Wide Web", "World Wild Web", "World War Web", "World Web Wide"],
                answer: 0,
                difficulty: "easy"
            },
            {
                question: "ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… ØªÙ… Ø¥Ø·Ù„Ø§Ù‚ Ø£ÙˆÙ„ iPhoneØŸ",
                options: ["2005", "2006", "2007", "2008"],
                answer: 2,
                difficulty: "medium"
            },
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø£ÙˆÙ„ Ø´Ø¨ÙƒØ© Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†ØªØ±Ù†ØªØŸ",
                options: ["ÙÙŠØ³Ø¨ÙˆÙƒ", "ØªÙˆÙŠØªØ±", "SixDegrees", "Ù…Ø§ÙŠ Ø³Ø¨ÙŠØ³"],
                answer: 2,
                difficulty: "hard"
            },
            {
                question: "Ù…Ø§ Ù‡ÙŠ ÙˆØ­Ø¯Ø© Ù‚ÙŠØ§Ø³ Ø³Ø±Ø¹Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ØŸ",
                options: ["Ø¨Ø§ÙŠØª", "Ù‡Ø±ØªØ²", "Ø¨Øª", "ÙˆØ§Øª"],
                answer: 1,
                difficulty: "medium"
            }
        ],
        geography: [
            {
                question: "Ù…Ø§ Ù‡ÙŠ Ø£ÙƒØ¨Ø± Ø¯ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ù…Ù† Ø­ÙŠØ« Ø§Ù„Ù…Ø³Ø§Ø­Ø©ØŸ",
                options: ["Ø§Ù„ØµÙŠÙ†", "ÙƒÙ†Ø¯Ø§", "Ø±ÙˆØ³ÙŠØ§", "Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©"],
                answer: 2,
                difficulty: "easy"
            },
            {
                question: "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§ØŸ",
                options: ["Ø³ÙŠØ¯Ù†ÙŠ", "Ù…Ù„Ø¨ÙˆØ±Ù†", "ÙƒØ§Ù†Ø¨Ø±Ø§", "Ø¨Ø±ÙŠØ³Ø¨Ø§Ù†"],
                answer: 2,
                difficulty: "medium"
            },
            {
                question: "ÙÙŠ Ø£ÙŠ Ù‚Ø§Ø±Ø© ØªÙ‚Ø¹ Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…ØºØ±Ø¨ØŸ",
                options: ["Ø¢Ø³ÙŠØ§", "Ø£ÙØ±ÙŠÙ‚ÙŠØ§", "Ø£ÙˆØ±ÙˆØ¨Ø§", "Ø£Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ø£Ø¹Ù„Ù‰ Ø¬Ø¨Ù„ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                options: ["K2", "Ø¥ÙŠÙØ±Ø³Øª", "ÙƒØ§Ù†Ø´ÙŠÙ†Ø¬ÙˆÙ†ØºØ§", "Ù„ÙˆØªØ³ÙŠ"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "Ù…Ø§ Ù‡ÙŠ Ø£ØµØºØ± Ø¯ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                options: ["Ù…ÙˆÙ†Ø§ÙƒÙˆ", "Ù†Ø§ÙˆØ±Ùˆ", "Ø§Ù„ÙØ§ØªÙŠÙƒØ§Ù†", "Ù„ÙŠØ®ØªÙ†Ø´ØªØ§ÙŠÙ†"],
                answer: 2,
                difficulty: "medium"
            }
        ],
        islamic: [
            {
                question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ",
                options: ["4", "5", "6", "7"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ù‡Ø¬Ø±ÙŠ ØªÙ… ÙØªØ­ Ù…ÙƒØ©ØŸ",
                options: ["6", "7", "8", "9"],
                answer: 2,
                difficulty: "medium"
            },
            {
                question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ",
                options: ["110", "114", "115", "120"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "Ù…Ø§ Ù‡ÙŠ Ø£Ø·ÙˆÙ„ Ø³ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ",
                options: ["Ø§Ù„Ø¨Ù‚Ø±Ø©", "Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†", "Ø§Ù„Ù†Ø³Ø§Ø¡", "Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©"],
                answer: 0,
                difficulty: "easy"
            },
            {
                question: "ÙÙŠ Ø£ÙŠ Ù…Ø¯ÙŠÙ†Ø© ÙˆÙÙ„Ø¯ Ø§Ù„Ø±Ø³ÙˆÙ„ Ù…Ø­Ù…Ø¯ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…ØŸ",
                options: ["Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", "Ù…ÙƒØ©", "Ø§Ù„Ø·Ø§Ø¦Ù", "Ø¬Ø¯Ø©"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ù…ÙØ±ÙˆØ¶Ø© ÙÙŠ Ø§Ù„ÙŠÙˆÙ…ØŸ",
                options: ["3", "4", "5", "6"],
                answer: 2,
                difficulty: "easy"
            }
        ],
        literature: [
            {
                question: "Ù…Ù† ÙƒØªØ¨ Ø±ÙˆØ§ÙŠØ© 'Ù…Ø¦Ø© Ø¹Ø§Ù… Ù…Ù† Ø§Ù„Ø¹Ø²Ù„Ø©'ØŸ",
                options: ["ØºØ§Ø¨Ø±ÙŠÙŠÙ„ ØºØ§Ø±Ø³ÙŠØ§ Ù…Ø§Ø±ÙƒÙŠØ²", "Ø®ÙˆØ±Ø®ÙŠ Ù„ÙˆÙŠØ³ Ø¨ÙˆØ±Ø®ÙŠØ³", "Ø¥ÙŠØ²Ø§Ø¨ÙŠÙ„ Ø§Ù„Ù„ÙŠÙ†Ø¯ÙŠ", "Ù…Ø§Ø±ÙŠÙˆ ÙØ§Ø±ØºØ§Ø³ ÙŠÙˆØ³Ø§"],
                answer: 0,
                difficulty: "hard"
            },
            {
                question: "Ù…Ù† Ù‡Ùˆ Ø´Ø§Ø¹Ø± Ø§Ù„Ø±Ø³ÙˆÙ„ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…ØŸ",
                options: ["Ø­Ø³Ø§Ù† Ø¨Ù† Ø«Ø§Ø¨Øª", "ÙƒØ¹Ø¨ Ø¨Ù† Ù…Ø§Ù„Ùƒ", "Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ù† Ø±ÙˆØ§Ø­Ø©", "Ø§Ù„Ø£Ø¹Ø´Ù‰"],
                answer: 0,
                difficulty: "medium"
            },
            {
                question: "Ù…Ù† ÙƒØªØ¨ Ø±ÙˆØ§ÙŠØ© 'Ø§Ù„Ø£Ø³ÙˆØ¯ ÙŠÙ„ÙŠÙ‚ Ø¨Ùƒ'ØŸ",
                options: ["Ø£Ø­Ù„Ø§Ù… Ù…Ø³ØªØºØ§Ù†Ù…ÙŠ", "Ù†ÙˆØ§Ù„ Ø§Ù„Ø³Ø¹Ø¯Ø§ÙˆÙŠ", "ÙØ§Ø·Ù…Ø© Ø§Ù„Ù…Ø±Ù†ÙŠØ³ÙŠ", "Ø±Ø¶ÙˆÙ‰ Ø¹Ø§Ø´ÙˆØ±"],
                answer: 0,
                difficulty: "medium"
            },
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ù…Ù„Ø­Ù…Ø© Ù‡ÙˆÙ…ÙŠØ±ÙˆØ³ Ø§Ù„Ø´Ù‡ÙŠØ±Ø©ØŸ",
                options: ["Ø§Ù„Ø¥Ù„ÙŠØ§Ø°Ø©", "Ø§Ù„Ø£ÙˆØ¯ÙŠØ³Ø©", "Ø§Ù„Ø¥Ù†ÙŠØ§Ø¯Ø©", "Ø§Ù„Ù…Ù‡Ø§Ø¨Ù‡Ø§Ø±Ø§ØªØ§"],
                answer: 0,
                difficulty: "medium"
            }
        ],
        math: [
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ù†Ø§ØªØ¬ 8 Ã— 7ØŸ",
                options: ["54", "56", "58", "60"],
                answer: 1,
                difficulty: "easy"
            },
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¬Ø°Ø± Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠ Ù„Ù„Ø¹Ø¯Ø¯ 64ØŸ",
                options: ["6", "7", "8", "9"],
                answer: 2,
                difficulty: "easy"
            },
            {
                question: "Ù…Ø§ Ù‡ÙŠ Ù‚ÙŠÙ…Ø© Ï€ (Ø¨Ø§ÙŠ) ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ØŸ",
                options: ["3.14", "3.16", "3.18", "3.20"],
                answer: 0,
                difficulty: "medium"
            },
            {
                question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ ÙÙŠ Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø«Ù…Ø§Ù†ÙŠØŸ",
                options: ["6", "7", "8", "9"],
                answer: 2,
                difficulty: "easy"
            },
            {
                question: "Ù…Ø§ Ù‡Ùˆ Ù†Ø§ØªØ¬ 15% Ù…Ù† 200ØŸ",
                options: ["25", "30", "35", "40"],
                answer: 1,
                difficulty: "medium"
            }
        ]
    };
    
    // Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
    const playerNames = [
        "Ø£Ø­Ù…Ø¯ Ø§Ù„Ù…ØªÙÙˆÙ‚", "ÙØ§Ø·Ù…Ø© Ø§Ù„Ø°ÙƒÙŠØ©", "Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¹Ø¨Ù‚Ø±ÙŠ", "Ø¹Ø§Ø¦Ø´Ø© Ø§Ù„Ù…Ø¨Ø¯Ø¹Ø©",
        "Ø¹Ù„ÙŠ Ø§Ù„Ø®Ø¨ÙŠØ±", "Ø®Ø¯ÙŠØ¬Ø© Ø§Ù„Ù…Ø§Ù‡Ø±Ø©", "Ø¹Ù…Ø± Ø§Ù„ÙØ·ÙŠÙ†", "Ø²ÙŠÙ†Ø¨ Ø§Ù„Ø£Ù„Ù…Ø¹ÙŠØ©",
        "Ø­Ø³Ù† Ø§Ù„Ø°ÙƒÙŠ", "Ù…Ø±ÙŠÙ… Ø§Ù„ÙÙ‡ÙŠÙ…Ø©", "ÙŠÙˆØ³Ù Ø§Ù„Ø¹Ø§Ø±Ù", "Ø³Ø§Ø±Ø© Ø§Ù„Ø­ÙƒÙŠÙ…Ø©"
    ];

     // Ø§Ù„Ù…Ø¤Ø«Ø±Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ©
    function playSound(type) {
        if (!soundEffectsEnabled) return;
        
        // ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø­Ù‚ÙŠÙ‚ÙŠØŒ ÙŠÙ…ÙƒÙ† ØªØ´ØºÙŠÙ„ Ù…Ù„ÙØ§Øª ØµÙˆØªÙŠØ©
        if (type === 'correct') {
            console.log('ğŸµ ØµÙˆØª Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©');
        } else if (type === 'wrong') {
            console.log('ğŸµ ØµÙˆØª Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©');
        } else if (type === 'win') {
            console.log('ğŸµ ØµÙˆØª ÙÙˆØ²');
        } else if (type === 'tick') {
            console.log('ğŸµ ØµÙˆØª ØªÙƒØªÙƒØ©');
        }
    }
    
    // Ø¨Ø¯Ø¡ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
    function startQuizGame() {
        showModal('quizModal');
        resetGameStats();
    }
    
    
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
    function resetGameStats() {
        correctAnswersCount = 0;
        wrongAnswersCount = 0;
        currentQuestionIndex = 0;
        currentPlayerIndex = 0;
        gamePaused = false;
        gameStartTime = null;
    }
    
    // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ø¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
    function startQuiz() {
        const playersCount = parseInt(document.getElementById('playersCount').value);
        winningPoints = parseInt(document.getElementById('winningPoints').value);
        quizCategory = document.getElementById('quizCategory').value;
        quizDifficulty = document.getElementById('quizDifficulty').value;
        answerTimeLimit = parseInt(document.getElementById('answerTime').value);
        soundEffectsEnabled = document.getElementById('soundEffects').value === 'on';
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ù…Ø¹ Ø£Ø³Ù…Ø§Ø¡ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
        quizPlayers = [];
        const shuffledNames = shuffleArray([...playerNames]);
        
        for (let i = 0; i < playersCount; i++) {
            quizPlayers.push({
                name: shuffledNames[i] || `Ø§Ù„Ù„Ø§Ø¹Ø¨ ${i + 1}`,
                score: 0,
                correctAnswers: 0,
                wrongAnswers: 0,
                averageTime: 0
            });
        }
        
        // ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        prepareQuestions();
        
        // Ø¥Ø®ÙØ§Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ¥Ø¸Ù‡Ø§Ø± Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù„Ø¹Ø¨Ø©
        closeModal('quizModal');
        showModal('quizGameModal');
        
        // Ø¨Ø¯Ø¡ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø£ÙˆÙ„
        gameStartTime = new Date();
        currentQuestionIndex = 0;
        currentPlayerIndex = 0;
        showQuestion();
        updateGameStats();
    }
    
    // ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø© ÙˆØ§Ù„Ù…Ø³ØªÙˆÙ‰
    function prepareQuestions() {
        let allQuestions = [...quizData[quizCategory]];
        
        // ØªØµÙÙŠØ© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø­Ø³Ø¨ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©
        if (quizDifficulty !== 'expert') {
            allQuestions = allQuestions.filter(q => {
                if (quizDifficulty === 'easy') return q.difficulty === 'easy';
                if (quizDifficulty === 'medium') return q.difficulty === 'easy' || q.difficulty === 'medium';
                if (quizDifficulty === 'hard') return q.difficulty !== 'expert';
                return true;
            });
        }
        
        // Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹
        quizQuestions = shuffleArray(allQuestions);
        
        // ØªØ­Ø¯ÙŠØ¯ Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø­Ø³Ø¨ Ø§Ù„ØµØ¹ÙˆØ¨Ø©
        let questionCount = 10;
        if (quizDifficulty === 'easy') questionCount = 8;
        else if (quizDifficulty === 'medium') questionCount = 12;
        else if (quizDifficulty === 'hard') questionCount = 15;
        else if (quizDifficulty === 'expert') questionCount = 20;
        
        quizQuestions = quizQuestions.slice(0, Math.min(questionCount, quizQuestions.length));
    }
    
    // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ
    function showQuestion() {
        if (gamePaused) return;
        
        const currentQuestion = quizQuestions[currentQuestionIndex];
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„
        document.getElementById('quizQuestion').textContent = currentQuestion.question;
        
        // Ø¹Ø±Ø¶ ØªÙ‚Ø¯Ù… Ø§Ù„Ù„Ø¹Ø¨Ø©
        document.getElementById('quizProgress').textContent = 
            `Ø§Ù„Ø³Ø¤Ø§Ù„ ${currentQuestionIndex + 1} Ù…Ù† ${quizQuestions.length}`;
        document.getElementById('quizProgressBar').style.width = 
            `${((currentQuestionIndex + 1) / quizQuestions.length) * 100}%`;
        
        // Ø¹Ø±Ø¶ Ø§Ù„ÙØ¦Ø©
        const categoryNames = {
            'general': 'ğŸŒ Ø¹Ø§Ù…Ø©',
            'science': 'ğŸ”¬ Ø¹Ù„ÙˆÙ…',
            'history': 'ğŸ“š ØªØ§Ø±ÙŠØ®',
            'sports': 'âš½ Ø±ÙŠØ§Ø¶Ø©',
            'entertainment': 'ğŸ¬ ØªØ±ÙÙŠÙ‡',
            'technology': 'ğŸ’» ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§',
            'geography': 'ğŸ—ºï¸ Ø¬ØºØ±Ø§ÙÙŠØ§',
            'islamic': 'ğŸ•Œ Ø¥Ø³Ù„Ø§Ù…ÙŠØ©',
            'literature': 'ğŸ“– Ø£Ø¯Ø¨',
            'math': 'ğŸ”¢ Ø±ÙŠØ§Ø¶ÙŠØ§Øª'
        };
        document.getElementById('categoryDisplay').textContent = categoryNames[quizCategory];
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
        const optionsContainer = document.getElementById('quizOptions');
        optionsContainer.innerHTML = '';
        
        currentQuestion.options.forEach((option, index) => {
            const optionElement = document.createElement('div');
            optionElement.className = 'quiz-option';
            optionElement.textContent = option;
            optionElement.onclick = function() {
                if (!gamePaused) checkAnswer(index);
            };
            optionsContainer.appendChild(optionElement);
        });
        
        // Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
        updatePlayersDisplay();
        
        // Ø¥Ø®ÙØ§Ø¡ Ø²Ø± Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
        document.getElementById('nextQuestionBtn').classList.add('hidden');
        
        // Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙØ¹Ù„Ø§Ù‹
        if (answerTimeLimit > 0) {
            startTimer();
        } else {
            document.getElementById('quizTimer').style.display = 'none';
        }
    }
    
    // Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ
    function startTimer() {
        const timerElement = document.getElementById('quizTimer');
        const timeLeftElement = document.getElementById('timeLeft');
        
        timerElement.style.display = 'block';
        timeLeft = answerTimeLimit;
        timeLeftElement.textContent = timeLeft;
        
        if (gameTimer) clearInterval(gameTimer);
        
        gameTimer = setInterval(() => {
            if (gamePaused) return;
            
            timeLeft--;
            timeLeftElement.textContent = timeLeft;
            
            if (timeLeft <= 5) {
                timerElement.style.animation = 'pulse 0.5s infinite';
                playSound('tick');
            }
            
            if (timeLeft <= 0) {
                clearInterval(gameTimer);
                timeOut();
            }
        }, 1000);
    }
    
    // Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª
    function timeOut() {
        const options = document.querySelectorAll('.quiz-option');
        options.forEach(option => {
            option.style.pointerEvents = 'none';
            option.style.opacity = '0.5';
        });
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
        const currentQuestion = quizQuestions[currentQuestionIndex];
        options[currentQuestion.answer].classList.add('correct');
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        wrongAnswersCount++;
        quizPlayers[currentPlayerIndex].wrongAnswers++;
        
        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„Ø§Ø¹Ø¨
        currentPlayerIndex = (currentPlayerIndex + 1) % quizPlayers.length;
        
        // Ø¹Ø±Ø¶ Ø²Ø± Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
        setTimeout(() => {
            document.getElementById('nextQuestionBtn').classList.remove('hidden');
        }, 1500);
        
        updatePlayersDisplay();
        updateGameStats();
        playSound('wrong');
    }
    
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
    function checkAnswer(selectedIndex) {
        if (gameTimer) clearInterval(gameTimer);
        
        const currentQuestion = quizQuestions[currentQuestionIndex];
        const options = document.querySelectorAll('.quiz-option');
        
        // ØªØ¹Ø·ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
        options.forEach(option => {
            option.style.pointerEvents = 'none';
        });
        
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª
        document.getElementById('quizTimer').style.display = 'none';
        
        // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© ÙˆØ§Ù„Ø®Ø§Ø·Ø¦Ø©
        options[currentQuestion.answer].classList.add('correct');
        if (selectedIndex !== currentQuestion.answer) {
            options[selectedIndex].classList.add('wrong');
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        if (selectedIndex === currentQuestion.answer) {
            quizPlayers[currentPlayerIndex].score++;
            quizPlayers[currentPlayerIndex].correctAnswers++;
            correctAnswersCount++;
            playSound('correct');
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙˆØµÙ„ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ÙÙˆØ²
            if (quizPlayers[currentPlayerIndex].score >= winningPoints) {
                setTimeout(() => {
                    endQuiz();
                }, 1500);
                return;
            }
        } else {
            quizPlayers[currentPlayerIndex].wrongAnswers++;
            wrongAnswersCount++;
            playSound('wrong');
        }
        
        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„Ø§Ø¹Ø¨
        currentPlayerIndex = (currentPlayerIndex + 1) % quizPlayers.length;
        
        // Ø¹Ø±Ø¶ Ø²Ø± Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
        setTimeout(() => {
            document.getElementById('nextQuestionBtn').classList.remove('hidden');
        }, 1500);
        
        updatePlayersDisplay();
        updateGameStats();
    }
    
    // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
    function nextQuestion() {
        currentQuestionIndex++;
        
        if (currentQuestionIndex < quizQuestions.length) {
            showQuestion();
        } else {
            endQuiz();
        }
    }
    
    // Ø¥ÙŠÙ‚Ø§Ù/Ø§Ø³ØªØ¦Ù†Ø§Ù Ø§Ù„Ù„Ø¹Ø¨Ø©
    function pauseQuiz() {
        const pauseBtn = document.getElementById('pauseBtn');
        
        if (gamePaused) {
            gamePaused = false;
            pauseBtn.innerHTML = '<i class="fas fa-pause"></i> Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª';
            if (answerTimeLimit > 0 && timeLeft > 0) {
                startTimer();
            }
        } else {
            gamePaused = true;
            pauseBtn.innerHTML = '<i class="fas fa-play"></i> Ø§Ø³ØªØ¦Ù†Ø§Ù';
            if (gameTimer) clearInterval(gameTimer);
        }
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
    function updatePlayersDisplay() {
        const playersContainer = document.getElementById('quizPlayers');
        playersContainer.innerHTML = '';
        
        quizPlayers.forEach((player, index) => {
            const playerElement = document.createElement('div');
            playerElement.className = `quiz-player ${index === currentPlayerIndex ? 'active' : ''}`;
            
            const successRate = player.correctAnswers + player.wrongAnswers > 0 ? 
                Math.round((player.correctAnswers / (player.correctAnswers + player.wrongAnswers)) * 100) : 0;
            
            playerElement.innerHTML = `
                <div class="player-name">${player.name}</div>
                <div class="player-score">${player.score}</div>
                <div style="font-size: 12px; opacity: 0.8; margin-top: 5px;">
                    âœ… ${player.correctAnswers} | âŒ ${player.wrongAnswers} | ğŸ“Š ${successRate}%
                </div>
            `;
            
            playersContainer.appendChild(playerElement);
        });
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
    function updateGameStats() {
        document.getElementById('correctAnswers').textContent = correctAnswersCount;
        document.getElementById('wrongAnswers').textContent = wrongAnswersCount;
        
        const totalAnswers = correctAnswersCount + wrongAnswersCount;
        const successRate = totalAnswers > 0 ? Math.round((correctAnswersCount / totalAnswers) * 100) : 0;
        document.getElementById('successRate').textContent = successRate + '%';
    }
    
    // Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØ¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
    function endQuiz(customMessage) {
        if (gameTimer) clearInterval(gameTimer);
        
        // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        closeModal('quizGameModal');
        
        // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØ§Ø¦Ø² Ø£Ùˆ Ø§Ù„Ù…ØªØ¹Ø§Ø¯Ù„ÙŠÙ†
        let winners = [];
        let maxScore = Math.max(...quizPlayers.map(p => p.score));
        
        // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ÙØ§Ø¦Ø²ÙŠÙ†
        if (maxScore >= winningPoints) {
            winners = quizPlayers.filter(p => p.score >= winningPoints);
        } else {
            winners = quizPlayers.filter(p => p.score === maxScore);
        }
        
        // Ø­Ø³Ø§Ø¨ Ù…Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        const gameEndTime = new Date();
        const gameDuration = gameStartTime ? Math.round((gameEndTime - gameStartTime) / 1000) : 0;
        const minutes = Math.floor(gameDuration / 60);
        const seconds = gameDuration % 60;
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        displayResults(winners, maxScore, minutes, seconds, customMessage);
        
        playSound('win');
    }
    
    // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
    function displayResults(winners, maxScore, minutes, seconds, customMessage) {
        const resultsContent = document.getElementById('resultsContent');
        
        let winnerText = '';
        if (customMessage) {
            winnerText = customMessage;
        } else if (winners.length === 1) {
            winnerText = `ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ ${winners[0].name}! 
                        <br>Ø£Ù†Øª Ø§Ù„ÙØ§Ø¦Ø² Ø¨Ù€ ${maxScore} Ù†Ù‚Ø·Ø©! ğŸ†`;
        } else if (winners.length > 1) {
            winnerText = `ğŸ¤ ØªØ¹Ø§Ø¯Ù„ Ø¨ÙŠÙ†: ${winners.map(w => w.name).join(' Ùˆ ')}
                        <br>Ø¨Ù€ ${maxScore} Ù†Ù‚Ø·Ø© Ù„ÙƒÙ„ Ù…Ù†Ù‡Ù…! ğŸ†`;
        } else {
            winnerText = `ğŸ® Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!
                        <br>Ø£Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø·: ${maxScore} Ù†Ù‚Ø·Ø© ğŸ“Š`;
        }
        
        const totalQuestions = currentQuestionIndex;
        const overallSuccessRate = totalQuestions > 0 ? 
            Math.round((correctAnswersCount / totalQuestions) * 100) : 0;
        
        resultsContent.innerHTML = `
            <div class="winner-announcement">${winnerText}</div>
            
            <div class="final-stats">
                <div class="final-stat">
                    <div style="font-size: 24px; color: #4facfe;">â±ï¸</div>
                    <div>Ù…Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©</div>
                    <div style="font-weight: bold;">${minutes}:${seconds.toString().padStart(2, '0')}</div>
                </div>
                <div class="final-stat">
                    <div style="font-size: 24px; color: #4facfe;">â“</div>
                    <div>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</div>
                    <div style="font-weight: bold;">${totalQuestions}</div>
                </div>
                <div class="final-stat">
                    <div style="font-size: 24px; color: #4facfe;">âœ…</div>
                    <div>Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©</div>
                    <div style="font-weight: bold;">${correctAnswersCount}</div>
                </div>
                <div class="final-stat">
                    <div style="font-size: 24px; color: #4facfe;">ğŸ“Š</div>
                    <div>Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­</div>
                    <div style="font-weight: bold;">${overallSuccessRate}%</div>
                </div>
            </div>
            
            <div style="margin-top: 20px;">
                <h3 style="color: #4facfe; margin-bottom: 15px;">ğŸ… ØªØ±ØªÙŠØ¨ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</h3>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    ${quizPlayers
                        .sort((a, b) => b.score - a.score)
                        .map((player, index) => {
                            const playerSuccessRate = (player.correctAnswers + player.wrongAnswers) > 0 ? 
                                Math.round((player.correctAnswers / (player.correctAnswers + player.wrongAnswers)) * 100) : 0;
                            const medal = index === 0 ? 'ğŸ¥‡' : index === 1 ? 'ğŸ¥ˆ' : index === 2 ? 'ğŸ¥‰' : `${index + 1}.`;
                            
                            return `
                                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <span style="font-size: 20px;">${medal}</span>
                                        <span style="font-weight: bold;">${player.name}</span>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 18px; font-weight: bold; color: #4facfe;">${player.score} Ù†Ù‚Ø·Ø©</div>
                                        <div style="font-size: 12px; opacity: 0.8;">
                                            âœ… ${player.correctAnswers} | âŒ ${player.wrongAnswers} | ğŸ“Š ${playerSuccessRate}%
                                        </div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                </div>
            </div>
        `;
        
        showModal('resultsModal');
    }
    
    // Ø¯Ø§Ù„Ø© Ù„Ø®Ù„Ø· Ø§Ù„Ù…ØµÙÙˆÙØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹
    function shuffleArray(array) {
        const newArray = [...array];
        for (let i = newArray.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
        }
        return newArray;
    }
</script>

        <!-- Features Section -->
        <section class="features-section">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <h3 class="feature-title">Ø³Ø±Ø¹Ø© ÙØ§Ø¦Ù‚Ø©</h3>
                <p class="feature-description">ÙƒØªØ§Ø¨Ø© Ø£ÙƒÙˆØ§Ø¯ ØªØµÙ„ Ø¥Ù„Ù‰ 100,000 Ø³Ø·Ø± ÙÙŠ Ø«ÙˆØ§Ù†Ù Ù…Ø¹Ø¯ÙˆØ¯Ø© Ù…Ø¹ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-bullseye"></i>
                </div>
                <h3 class="feature-title">Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©</h3>
                <p class="feature-description">Ø£ÙƒÙˆØ§Ø¯ Ù…Ø­Ø³Ù‘Ù†Ø© ÙˆØ®Ø§Ù„ÙŠØ© Ù…Ù† Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù…Ø¹            </div>
            <div class="feature-card">
                <div class="feature-icon">ğŸ”§</div>
                <h3>ØªØ¹Ø¯ÙŠÙ„ Ø°ÙƒÙŠ</h3>
                <p>ØªØ­Ù„ÙŠÙ„ ÙˆØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ù…Ø¹ Ø§Ù‚ØªØ±Ø§Ø­ Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">ğŸ“</div>
                <h3>Ø¯Ø¹Ù… Ø§Ù„Ù…Ù„ÙØ§Øª</h3>
                <p>Ø±ÙØ¹ ÙˆØªØ­Ù„ÙŠÙ„ Ù…Ù„ÙØ§Øª Lua, HTML, CSS Ù…Ø¹ Ø­ÙØ¸ Ø§Ù„ØªØ§Ø±ÙŠØ®</p>
            </div>
        </section>

        <!-- Pricing Section -->
        <section class="pricing-section">
            <h2 style="text-align: center; margin-bottom: 20px;">ğŸ’ Ø®Ø·Ø· Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</h2>
            <p style="text-align: center; opacity: 0.8;">Ø§Ø®ØªØ± Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ</p>
            
            <div class="pricing-plans">
                <div class="plan-card">
                    <h3>Ù…Ø¬Ø§Ù†ÙŠ</h3>
                    <div class="plan-price">$0<small>/Ø´Ù‡Ø±</small></div>
                    <ul class="plan-features">
                        <li>10 Ø·Ù„Ø¨Ø§Øª ÙŠÙˆÙ…ÙŠØ§Ù‹</li>
                        <li>Ø¯Ø¹Ù… Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„ØºØ§Øª</li>
                        <li>Ø­Ø¯ Ø£Ù‚ØµÙ‰ 1000 Ø³Ø·Ø±</li>
                        <li>Ø­ÙØ¸ Ù„Ù…Ø¯Ø© ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯</li>
                    </ul>
                    <button class="btn btn-secondary" onclick="selectPlan('free')">Ø§Ù„Ø¨Ø¯Ø¡ Ù…Ø¬Ø§Ù†Ø§Ù‹</button>
                </div>

                <div class="plan-card popular">
                    <h3>Pro</h3>
                    <div class="plan-price">$29<small>/Ø´Ù‡Ø±</small></div>
                    <ul class="plan-features">
                        <li>500 Ø·Ù„Ø¨ ÙŠÙˆÙ…ÙŠØ§Ù‹</li>
                        <li>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©</li>
                        <li>Ø­Ø¯ Ø£Ù‚ØµÙ‰ 50,000 Ø³Ø·Ø±</li>
                        <li>Ø­ÙØ¸ Ù„Ù…Ø¯Ø© Ø´Ù‡Ø±</li>
                        <li>Ø¯Ø¹Ù… Ø£ÙˆÙ„ÙˆÙŠØ©</li>
                        <li>ØªØ­Ù„ÙŠÙ„ Ù…ØªÙ‚Ø¯Ù… Ù„Ù„Ø£Ø®Ø·Ø§Ø¡</li>
                    </ul>
                    <button class="btn btn-primary" onclick="selectPlan('pro')">Ø§Ø´ØªØ±Ùƒ Ø§Ù„Ø¢Ù†</button>
                </div>

                <div class="plan-card">
                    <h3>Enterprise</h3>
                    <div class="plan-price">$99<small>/Ø´Ù‡Ø±</small></div>
                    <ul class="plan-features">
                        <li>Ø·Ù„Ø¨Ø§Øª ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯Ø©</li>
                        <li>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª</li>
                        <li>Ø­Ø¯ Ø£Ù‚ØµÙ‰ 100,000+ Ø³Ø·Ø±</li>
                        <li>Ø­ÙØ¸ Ø¯Ø§Ø¦Ù…</li>
                        <li>Ø¯Ø¹Ù… Ù…Ø®ØµØµ 24/7</li>
                        <li>API Ù…Ø®ØµØµ</li>
                        <li>ØªØ¯Ø±ÙŠØ¨ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„</li>
                    </ul>
                    <button class="btn btn-primary" onclick="selectPlan('enterprise')">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</button>
                </div>
            </div>
        </section>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="email" id="loginEmail" placeholder="example@email.com" required>
                </div>
                <div class="form-group">
                    <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="loginPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
                </div>
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn btn-primary">Ø¯Ø®ÙˆÙ„</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('loginModal')">Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <h2>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
            <form id="registerForm">
                <div class="form-group">
                    <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                    <input type="text" id="registerName" placeholder="Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„" required>
                </div>
                <div class="form-group">
                    <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="email" id="registerEmail" placeholder="example@email.com" required>
                </div>
                <div class="form-group">
                    <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="registerPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
                </div>
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn btn-primary">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('registerModal')">Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let userUsage = 0;
        let dailyLimit = 10;
        let userFiles = [];
        let conversationHistory = [];

        // Sample code templates
        const codeTemplates = {
            lua: {
                basic: `-- Lua Script Example
function greet(name)
    return "Hello, " .. name .. "!"
end

local userName = "User"
print(greet(userName))

-- Table example
local myTable = {
    name = "PixyAi",
    version = "1.0",
    features = {"Fast", "Smart", "Reliable"}
}

for i, feature in ipairs(myTable.features) do
    print(i .. ". " .. feature)
end`,
                
                advanced: `-- Advanced Lua Application
local json = require("json")
local http = require("socket.http")

-- Class definition
local WebAPI = {}
WebAPI.__index = WebAPI

function WebAPI:new(baseUrl)
    local instance = {
        baseUrl = baseUrl,
        headers = {
            ["Content-Type"] = "application/json",
            ["User-Agent"] = "Lua-PixyAi/1.0"
        }
    }
    setmetatable(instance, WebAPI)
    return instance
end

function WebAPI:get(endpoint)
    local url = self.baseUrl .. endpoint
    local response, status = http.request(url)
    
    if status == 200 then
        return json.decode(response)
    else
        error("HTTP Error: " .. status)
    end
end

function WebAPI:post(endpoint, data)
    local url = self.baseUrl .. endpoint
    local jsonData = json.encode(data)
    
    local response, status = http.request{
        url = url,
        method = "POST",
        headers = self.headers,
        source = ltn12.source.string(jsonData)
    }
    
    return json.decode(response)
end

-- Usage example
local api = WebAPI:new("https://api.example.com/")
local userData = api:get("/users/123")
print("User: " .. userData.name)`
            },
            
            html: {
                basic: `<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙˆÙ‚Ø¹ Ø¨Ø³ÙŠØ·</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
        }
        .btn {
            background: #ff6b6b;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
        }
        .btn:hover {
            background: #ee5a24;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ÙˆÙ‚Ø¹ÙŠ</h1>
        <p>Ù‡Ø°Ø§ Ù…ÙˆÙ‚Ø¹ Ø¨Ø³ÙŠØ· ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© PixyAi Pro</p>
        <button class="btn" onclick="alert('Ù…Ø±Ø­Ø¨Ø§Ù‹!')">Ø§Ø¶ØºØ· Ù‡Ù†Ø§</button>
    </div>
<!-- ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø¨ÙˆØ§Ø³Ø·Ø© PixyAi Pro -->
<!-- ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø¨ÙˆØ§Ø³Ø·Ø© PixyAi Pro -->
<!-- ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø¨ÙˆØ§Ø³Ø·Ø© PixyAi Pro -->
<!-- ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø¨ÙˆØ§Ø³Ø·Ø© PixyAi Pro -->
</body>
</html>`,
                
                advanced: `<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ·Ø¨ÙŠÙ‚ ÙˆÙŠØ¨ Ù…ØªÙ‚Ø¯Ù…</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #fff;
        }
        
        .app-container {
            display: grid;
            grid-template-areas: 
                "header header"
                "sidebar main"
                "footer footer";
            grid-template-rows: 80px 1fr 60px;
            grid-template-columns: 250px 1fr;
            min-height: 100vh;
        }
        
        .header {
            grid-area: header;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 30px;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        
        .sidebar {
            grid-area: sidebar;
            background: rgba(0,0,0,0.2);
            padding: 30px 20px;
            border-right: 1px solid rgba(255,255,255,0.2);
        }
        
        .main-content {
            grid-area: main;
            padding: 30px;
            overflow-y: auto;
        }
        
        .footer {
            grid-area: footer;
            background: rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            border-top: 1px solid rgba(255,255,255,0.2);
        }
        
        .card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.2);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .nav-item {
            display: block;
            color: white;
            text-decoration: none;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }
        
        .nav-item:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .nav-item.active {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .stat-card {
            text-align: center;
        }
        
        .stat-number {
            font-size: 48px;
            font-weight: bold;
            color: #ff6b6b;
            display: block;
        }
        
        @media (max-width: 768px) {
            .app-container {
                grid-template-areas: 
                    "header"
                    "main"
                    "footer";
                grid-template-columns: 1fr;
                grid-template-rows: 80px 1fr 60px;
            }
            
            .sidebar {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <h1>ğŸš€ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙˆÙŠØ¨ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h1>
            <div>
                <button class="btn">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
                <button class="btn">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
            </div>
        </header>
        
        <aside class="sidebar">
            <a href="#" class="nav-item active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="#" class="nav-item">Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª</a>
            <a href="#" class="nav-item">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†</a>
            <a href="#" class="nav-item">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</a>
        </aside>
        
        <main class="main-content">
            <div class="dashboard-grid">
                <div class="card stat-card">
                    <span class="stat-number">1,234</span>
                    <span>Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙŠÙˆÙ…</span>
                </div>
                <div class="card stat-card">
                    <span class="stat-number">567</span>
                    <span>Ù…Ø³ØªØ®Ø¯Ù… Ù†Ø´Ø·</span>
                </div>
                <div class="card stat-card">
                    <span class="stat-number">89%</span>
                    <span>Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„</span>
                </div>
            </div>
            
            <div class="card">
                <h2>Ø¢Ø®Ø± Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª</h2>
                <p>Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø¹Ø±Ø¶ Ø¢Ø®Ø± Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª ÙˆØ§Ù„Ø£Ø­Ø¯Ø§Ø« ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ.</p>
            </div>
        </main>
        
        <footer class="footer">
            <p>Â© 2023 PixyAi Pro - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
        </footer>
    </div>
</body>
</html>`
            },
            
            css: {
                basic: `/* CSS Basic Example */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f5f5f5;
    color: #333;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.header {
    background: linear-gradient(45deg, #667eea, #764ba2);
    color: white;
    padding: 20px;
    text-align: center;
    border-radius: 10px;
    margin-bottom: 30px;
}

.btn {
    display: inline-block;
    padding: 12px 24px;
    background: #ff6b6b;
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.3s ease;
}

.btn:hover {
    background: #ee5a24;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.card {
    background: white;
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}`,
                
                advanced: `/* Advanced CSS Example */
:root {
    --primary-color: #667eea;
    --secondary-color: #764ba2;
    --accent-color: #ff6b6b;
    --text-color: #333;
    --light-bg: #f9f9f9;
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
    --shadow-md: 0 5px 15px rgba(0,0,0,0.1);
    --shadow-lg: 0 10px 25px rgba(0,0,0,0.1);
    --transition: all 0.3s ease;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: var(--text-color);
    background-color: var(--light-bg);
}

.container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.grid {
    display: grid;
    gap: 30px;
}

.grid-2 {
    grid-template-columns: repeat(2, 1fr);
}

.grid-3 {
    grid-template-columns: repeat(3, 1fr);
}

.grid-4 {
    grid-template-columns: repeat(4, 1fr);
}

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 12px 24px;
    border: none;
    border-radius: 50px;
    font-weight: 600;
    text-decoration: none;
    cursor: pointer;
    transition: var(--transition);
    box-shadow: var(--shadow-sm);
}

.btn-primary {
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    color: white;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.card {
    background: white;
    border-radius: 15px;
    padding: 25px;
    box-shadow: var(--shadow-sm);
    transition: var(--transition);
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-lg);
}

@media (max-width: 768px) {
    .grid-2, 
    .grid-3, 
    .grid-4 {
        grid-template-columns: 1fr;
    }
    
    .btn {
        padding: 10px 20px;
    }
}`
            }
        };

        // DOM Elements
        const chatMessages = document.getElementById('chatMessages');
        const messageInput = document.getElementById('messageInput');
        const userInfo = document.getElementById('userInfo');
        const userName = document.getElementById('userName');
        const userStatus = document.getElementById('userStatus');
        const usageProgress = document.getElementById('usageProgress');
        const usageText = document.getElementById('usageText');
        const logoutBtn = document.getElementById('logoutBtn');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const uploadedFiles = document.getElementById('uploadedFiles');

        // Initialize the app
        function init() {
            // Check if user is logged in (from localStorage)
            const savedUser = localStorage.getItem('PixyAiUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUserUI();
            }

            // Add event listeners
            loginForm.addEventListener('submit', handleLogin);
            registerForm.addEventListener('submit', handleRegister);
            
            // Allow sending message with Enter key
            messageInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        }

        // Show modal
        function showModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        // Close modal
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Handle login
        function handleLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simple validation
            if (!email || !password) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
                return;
            }
            
            // In a real app, you would send this to a server
            currentUser = {
                name: 'Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯',
                email: email,
                plan: 'free'
            };
            
            // Save to localStorage
            localStorage.setItem('PixyAiUser', JSON.stringify(currentUser));
            
            // Update UI
            updateUserUI();
            
            // Close modal
            closeModal('loginModal');
            
            // Reset form
            loginForm.reset();
        }

               // Handle register
                // Handle register
        function handleRegister(e) {
            e.preventDefault();
            
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            
            // Simple validation
            if (!name || !email || !password) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }
            
            // In a real app, you would send this to a server
            currentUser = {
                name: name,
                email: email,
                plan: 'free'
            };
            
            // Save to localStorage
            localStorage.setItem('PixyAiUser', JSON.stringify(currentUser));
            
            // Update UI
            updateUserUI();
            
            // Close modal
            closeModal('registerModal');
            
            // Reset form
            registerForm.reset();
        }

        // Logout user
        function logout() {
            currentUser = null;
            userUsage = 0;
            userFiles = [];
            conversationHistory = [];
            
            // Remove from localStorage
            localStorage.removeItem('PixyAiUser');
            
            // Update UI
            updateUserUI();
            
            // Clear chat
            chatMessages.innerHTML = `
                <div class="bot-message">
                    Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ PixyAi Pro ğŸ¤–<br>
                    ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ:<br>
                    â€¢ ÙƒØªØ§Ø¨Ø© Ø£ÙƒÙˆØ§Ø¯ Lua, HTML, CSS<br>
                    â€¢ ØªØ¹Ø¯ÙŠÙ„ ÙˆØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£ÙƒÙˆØ§Ø¯<br>
                    â€¢ ÙƒØªØ§Ø¨Ø© Ø£ÙƒØ«Ø± Ù…Ù† 100,000 Ø³Ø·Ø± Ø¨Ø³Ø±Ø¹Ø©<br>
                    â€¢ ØªØ­Ù„ÙŠÙ„ ÙˆØ¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡<br><br>
                    ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ
                </div>
            `;
        }

        // Update user UI
        function updateUserUI() {
            if (currentUser) {
                // Show user info and logout button
                userInfo.classList.remove('hidden');
                logoutBtn.classList.remove('hidden');
                
                // Hide login/register buttons
                document.querySelectorAll('.nav-buttons .btn:not(#logoutBtn)').forEach(btn => {
                    btn.classList.add('hidden');
                });
                
                // Set user info
                userName.textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ ${currentUser.name}!`;
                
                // Set plan info
                userStatus.textContent = currentUser.plan === 'free' ? 'Ù…Ø¬Ø§Ù†ÙŠ' : 
                                      currentUser.plan === 'pro' ? 'Pro' : 'Enterprise';
                userStatus.className = 'subscription-status ' + 
                                      (currentUser.plan === 'free' ? 'status-free' : 
                                       currentUser.plan === 'pro' ? 'status-pro' : 'status-enterprise');
                
                // Update usage
                updateUsage();
            } else {
                // Hide user info and logout button
                userInfo.classList.add('hidden');
                logoutBtn.classList.add('hidden');
                
                // Show login/register buttons
                document.querySelectorAll('.nav-buttons .btn:not(#logoutBtn)').forEach(btn => {
                    btn.classList.remove('hidden');
                });
            }
        }

        // Update usage progress
        function updateUsage() {
            if (!currentUser) return;
            
            const maxRequests = currentUser.plan === 'free' ? 10 : 
                              currentUser.plan === 'pro' ? 500 : Infinity;
            
            const percentage = Math.min((userUsage / maxRequests) * 100, 100);
            usageProgress.style.width = `${percentage}%`;
            usageText.textContent = currentUser.plan === 'enterprise' ? 
                                  'Ø·Ù„Ø¨Ø§Øª ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯Ø©' : 
                                  `${userUsage}/${maxRequests} Ø·Ù„Ø¨Ø§Øª`;
        }

        // Handle file upload
        function handleFileUpload(input) {
            if (!currentUser) {
                alert('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª');
                return;
            }
            
            const file = input.files[0];
            if (!file) return;
            
            // Check file type
            const validExtensions = ['.lua', '.html', '.css'];
            const fileExt = file.name.substring(file.name.lastIndexOf('.')).toLowerCase();
            
            if (!validExtensions.includes(fileExt)) {
                alert('Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Ø¨ØµÙŠØºØ© .lua Ø£Ùˆ .html Ø£Ùˆ .css ÙÙ‚Ø·');
                return;
            }
            
            // Read file content
            const reader = new FileReader();
            reader.onload = function(e) {
                const content = e.target.result;
                
                // Add to user files
                userFiles.push({
                    name: file.name,
                    content: content,
                    type: fileExt.substring(1),
                    date: new Date().toLocaleString()
                });
                
                // Display uploaded file
                displayUploadedFiles();
                
                // Add bot message
                addBotMessage(`ØªÙ… Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù "${file.name}" Ø¨Ù†Ø¬Ø§Ø­. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø·Ù„Ø¨ ØªØ¹Ø¯ÙŠÙ„Ù‡ Ø£Ùˆ ØªØ­Ù„ÙŠÙ„Ù‡.`);
            };
            reader.readAsText(file);
        }

        // Display uploaded files
        function displayUploadedFiles() {
            if (userFiles.length === 0) {
                uploadedFiles.innerHTML = '';
                return;
            }
            
            let html = '<h3>ğŸ“‚ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</h3><ul style="list-style: none; margin-top: 10px;">';
            
            userFiles.forEach((file, index) => {
                html += `
                    <li style="margin-bottom: 10px; padding: 10px; background: rgba(255,255,255,0.1); border-radius: 8px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>${file.name}</span>
                            <small>${file.date}</small>
                        </div>
                        <small style="color: rgba(255,255,255,0.7);">${file.type.toUpperCase()} - ${Math.ceil(file.content.length / 1024)} KB</small>
                        <div style="margin-top: 5px;">
                            <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;" onclick="analyzeFile(${index})">ØªØ­Ù„ÙŠÙ„</button>
                            <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;" onclick="editFile(${index})">ØªØ¹Ø¯ÙŠÙ„</button>
                        </div>
                    </li>
                `;
            });
            
            html += '</ul>';
            uploadedFiles.innerHTML = html;
        }

        // Analyze file
        function analyzeFile(index) {
            if (!currentUser) return;
            
            const file = userFiles[index];
            let analysis = '';
            
            // Simple analysis based on file type
            if (file.type === 'lua') {
                analysis = `ØªØ­Ù„ÙŠÙ„ Ù…Ù„Ù Lua:
- Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø·Ø±: ${file.content.split('\n').length}
- Ø¹Ø¯Ø¯ Ø§Ù„Ø¯ÙˆØ§Ù„: ${(file.content.match(/function/g) || []).length}
- Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª: ${(file.content.match(/local\s+\w+/g) || []).length}
- ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: ${file.content.includes('require') ? 'ÙˆØ­Ø¯Ø§Øª Ø®Ø§Ø±Ø¬ÙŠØ©' : 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØ­Ø¯Ø§Øª Ø®Ø§Ø±Ø¬ÙŠØ©'}`;
            } else if (file.type === 'html') {
                analysis = `ØªØ­Ù„ÙŠÙ„ Ù…Ù„Ù HTML:
- Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ±: ${(file.content.match(/<\w+/g) || []).length}
- ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: ${file.content.includes('<style>') ? 'CSS Ø¯Ø§Ø®Ù„ÙŠ' : 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ CSS Ø¯Ø§Ø®Ù„ÙŠ'}
- ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: ${file.content.includes('<script>') ? 'JavaScript Ø¯Ø§Ø®Ù„ÙŠ' : 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ JavaScript Ø¯Ø§Ø®Ù„ÙŠ'}`;
            } else if (file.type === 'css') {
                analysis = `ØªØ­Ù„ÙŠÙ„ Ù…Ù„Ù CSS:
- Ø¹Ø¯Ø¯ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯: ${(file.content.match(/[^{]+\{[^}]+\}/g) || []).length}
- Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª: ${(file.content.match(/--[\w-]+:/g) || []).length}
- ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: ${file.content.includes('@media') ? 'Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª ÙˆØ³Ø§Ø¦Ø·' : 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª ÙˆØ³Ø§Ø¦Ø·'}`;
            }
            
            addBotMessage(analysis);
            incrementUsage();
        }

        // Edit file
        function editFile(index) {
            if (!currentUser) return;
            
            const file = userFiles[index];
            addUserMessage(`Ø£Ø±ÙŠØ¯ ØªØ¹Ø¯ÙŠÙ„ Ù…Ù„Ù ${file.name}`);
            
            // Simulate bot thinking
            setTimeout(() => {
                let editedContent = '';
                
                // Simple edits based on file type
                if (file.type === 'lua') {
                    editedContent = file.content + '\n\n-- ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø¨ÙˆØ§Ø³Ø·Ø© PixyAi Pro';
                } else if (file.type === 'html') {
                    editedContent = file.content.replace(/<\/body>/, '<!-- ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø¨ÙˆØ§Ø³Ø·Ø© PixyAi Pro -->\n</body>');
                } else if (file.type === 'css') {
                    editedContent = file.content + '\n\n/* ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø¨ÙˆØ§Ø³Ø·Ø© PixyAi Pro */';
                }
                
                // Update file content
                userFiles[index].content = editedContent;
                
                // Show edited content
                addBotMessage(`ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù ${file.name}. Ø¥Ù„ÙŠÙƒ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø¹Ø¯Ù„:`);
                addCodeMessage(editedContent, file.type);
                
                incrementUsage();
            }, 1500);
        }

        // Select plan
        function selectPlan(plan) {
            if (!currentUser) {
                alert('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹ Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ø·Ø©');
                return;
            }
            
            currentUser.plan = plan;
            localStorage.setItem('PixyAiUser', JSON.stringify(currentUser));
            updateUserUI();
            
            if (plan === 'enterprise') {
                addBotMessage('Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ùƒ Ø¨Ø®Ø·Ø© Enterprise! Ø³ÙŠØªØµÙ„ Ø¨Ùƒ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù… Ù‚Ø±ÙŠØ¨Ø§Ù‹.');
            } else {
                addBotMessage(`ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ø´ØªØ±Ø§ÙƒÙƒ Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø·Ø© ${plan === 'pro' ? 'Pro' : 'Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©'} Ø¨Ù†Ø¬Ø§Ø­.`);
            }
        }

        // Send message
        function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;
            
            if (!currentUser) {
                alert('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„');
                return;
            }
            
            // Check daily limit
            if (currentUser.plan === 'free' && userUsage >= 10) {
                alert('Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù„Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©. Ù‚Ù… Ø¨Ø§Ù„ØªØ±Ù‚ÙŠØ© Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…Ø²ÙŠØ¯.');
                return;
            } else if (currentUser.plan === 'pro' && userUsage >= 500) {
                alert('Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù„Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ø§Ù„Ø®Ø·Ø© Pro. Ù‚Ù… Ø¨Ø§Ù„ØªØ±Ù‚ÙŠØ© Ø¥Ù„Ù‰ Enterprise Ù„Ø·Ù„Ø¨Ø§Øª ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯Ø©.');
                return;
            }
            
            addUserMessage(message);
            messageInput.value = '';
            
            // Simulate bot thinking
            setTimeout(() => {
                generateBotResponse(message);
                incrementUsage();
            }, 1000);
        }


// Generate bot response
function generateBotResponse(message) {
    let response = '';
    let code = '';
    
    // Convert message to lowercase for easier matching
    const lowerMessage = message.toLowerCase();
    
    // Check if message is not in Arabic
    const isNonArabic = /[a-z]/.test(message);
    
    // Respond in the same language as the user
    if (isNonArabic) {
        response = generateEnglishResponse(message);
        addBotMessage(response);
        return;
    }
    
    // Handle greetings and general questions in Arabic
    if (lowerMessage.includes('Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…') || lowerMessage.includes('Ø³Ù„Ø§Ù…') || 
        lowerMessage.includes('Ù…Ø±Ø­Ø¨Ø§') || lowerMessage.includes('Ø§Ù‡Ù„Ø§') || 
        lowerMessage.includes('Ù…Ø±Ø­Ø¨Ø§Ù‹') || lowerMessage.includes('Ø£Ù‡Ù„Ø§')) {
        const greetings = [
            "ÙˆØ¹Ù„ÙŠÙƒÙ… Ø§Ù„Ø³Ù„Ø§Ù… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡! ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ",
            "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ! ÙƒÙŠÙ Ø£Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŸ",
            "Ø£Ù‡Ù„Ø§Ù‹ ÙˆØ³Ù‡Ù„Ø§Ù‹! ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø®Ø¯Ù…ØªÙƒØŸ",
            "ÙˆØ¹Ù„ÙŠÙƒÙ… Ø§Ù„Ø³Ù„Ø§Ù…! ÙƒÙŠÙ Ø­Ø§Ù„Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŸ"
        ];
        response = greetings[Math.floor(Math.random() * greetings.length)];
        addBotMessage(response);
        return;
    }

        if (lowerMessage.includes('Ù…Ø§ Ù‡Ùˆ Ù…Ø¤Ø³Ø³ Ù…ÙˆÙ‚Ø¹ Ø¨ÙŠÙƒØ³ÙŠ')) {
        const greetings = [
            "Ø§Ù„Ù…Ø¤Ø³Ø³ Ù…ÙˆÙ‚Ø¹ PixyAi Ù‡Ùˆ Ø¹Ù„ÙŠ ØµÙ„Ø§Ø­ Ù…Ø­Ù…Ø¯ Ø§Ù„ÙˆØ§ÙˆØ§Ù† Ø§Ù„Ø´Ù…Ø±ÙŠ"
                  ];
        response = greetings[Math.floor(Math.random() * greetings.length)];
        addBotMessage(response);
        return;
    }

    
    else if (lowerMessage.includes('ÙƒÙŠÙ Ø­Ø§Ù„Ùƒ') || lowerMessage.includes('Ø§Ø®Ø¨Ø§Ø±Ùƒ')) {
        const replies = [
            "Ø¨Ø®ÙŠØ± ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ØŒ ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒØŸ",
            "Ø£Ù†Ø§ Ø¨Ø®ÙŠØ±ØŒ Ø´ÙƒØ±Ø§Ù‹ Ù„Ø³Ø¤Ø§Ù„Ùƒ! ÙƒÙŠÙ Ø£Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŸ",
            "Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¨Ø®ÙŠØ±ØŒ ÙƒÙŠÙ Ø­Ø§Ù„Ùƒ Ø£Ù†ØªØŸ",
            "Ø£Ù†Ø§ Ù…Ø¬Ø±Ø¯ Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙˆÙ„ÙƒÙ†Ù†ÙŠ Ø£Ø¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø¬ÙŠØ¯ :) ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒØŸ"
        ];
        response = replies[Math.floor(Math.random() * replies.length)];
        addBotMessage(response);
        return;
    }
    else if (lowerMessage.includes('ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±') || lowerMessage.includes('Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±')) {
        const time = new Date().getHours();
        if (time < 12) {
            response = "ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±! ÙŠÙˆÙ… Ø³Ø¹ÙŠØ¯ Ù„Ùƒ. ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒØŸ";
        } else if (time < 18) {
            response = "Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±! ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ";
        } else {
            response = "Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±! Ø£ØªÙ…Ù†Ù‰ Ù„Ùƒ Ù…Ø³Ø§Ø¡Ù‹ Ø³Ø¹ÙŠØ¯Ø§Ù‹. ÙƒÙŠÙ Ø£Ø³Ø§Ø¹Ø¯ÙƒØŸ";
        }
        addBotMessage(response);
        return;
    }
    
    // Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ¯ ÙƒÙ…Ø§ Ù‡Ùˆ...
    // Check for Lua requests
    if (lowerMessage.includes('Ù„ÙˆØ§') || lowerMessage.includes('lua')) {
        // ... (Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ø§Øª Ù„ÙˆØ§)
    } 
    // Check for HTML requests
    else if (lowerMessage.includes('html') || lowerMessage.includes('Ø¥ØªØ´ ØªÙŠ Ø¥Ù… Ø¥Ù„') || lowerMessage.includes('ØµÙØ­Ø© ÙˆÙŠØ¨')) {
        // ... (Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ø§Øª HTML)
    }
    // Check for CSS requests
    else if (lowerMessage.includes('css') || lowerMessage.includes('Ø³ÙŠ Ø¥Ø³ Ø¥Ø³') || lowerMessage.includes('ØªÙ†Ø³ÙŠÙ‚')) {
        // ... (Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ø§Øª CSS)
    }
    // General knowledge questions
    else if (lowerMessage.includes('ØŸ') || lowerMessage.includes('Ù…Ø§') || lowerMessage.includes('ÙƒÙŠÙ') || 
             lowerMessage.includes('Ù„Ù…Ø§Ø°Ø§') || lowerMessage.includes('Ø£ÙŠÙ†') || lowerMessage.includes('Ù…ØªÙ‰')) {
        response = getGeneralKnowledgeAnswer(message);
        addBotMessage(response);
    }
    // If no specific request
    else {
        response = getGeneralResponse(message);
        addBotMessage(response);
    }
    
    if (code) {
        addCodeMessage(code, lowerMessage.includes('Ù„ÙˆØ§') ? 'lua' : 
                             lowerMessage.includes('html') ? 'html' : 'css');
    }
}


// Update English response function similarly
function generateEnglishResponse(message) {
    const lowerMessage = message.toLowerCase();
    let response = '';
    
    // Handle English greetings
    if (lowerMessage.includes('hi') || lowerMessage.includes('hello') || 
        lowerMessage.includes('hey') || lowerMessage.includes('greetings')) {
        const greetings = [
            "Hello! How can I help you today?",
            "Hi there! What can I do for you?",
            "Greetings! How may I assist you?",
            "Hello! Nice to see you. How can I help?"
        ];
        return greetings[Math.floor(Math.random() * greetings.length)];
    }
    else if (lowerMessage.includes('how are you') || lowerMessage.includes("how's it going")) {
        const replies = [
            "I'm just a program, but I'm functioning well! How can I help you?",
            "I don't have feelings, but I'm ready to assist you!",
            "All systems are operational! How about you?",
            "I'm doing great! What can I do for you today?"
        ];
        return replies[Math.floor(Math.random() * replies.length)];
    }
    else if (lowerMessage.includes('good morning') || lowerMessage.includes('good afternoon') || 
             lowerMessage.includes('good evening')) {
        const time = new Date().getHours();
        if (time < 12) {
            return "Good morning! Have a wonderful day. How can I help?";
        } else if (time < 18) {
            return "Good afternoon! How can I assist you today?";
        } else {
            return "Good evening! I hope you're having a pleasant evening. How may I help?";
        }
    }
    
    // Programming related questions
    if (lowerMessage.includes('lua') || lowerMessage.includes('code') || 
        lowerMessage.includes('html') || lowerMessage.includes('css') || 
        lowerMessage.includes('programming')) {
        return generateProgrammingResponse(message);
    }
    // General questions
    else if (lowerMessage.includes('?') || lowerMessage.includes('what') || 
             lowerMessage.includes('how') || lowerMessage.includes('why') || 
             lowerMessage.includes('when') || lowerMessage.includes('where')) {
        return getEnglishGeneralAnswer(message);
    }
    // Default response
    else {
        return getGeneralResponse(message);
    }
}

// Get general knowledge answer
function getGeneralKnowledgeAnswer(question) {
    const lowerQuestion = question.toLowerCase();
    
    // Sample knowledge base in Arabic
    if (lowerQuestion.includes('Ø§Ù„Ø´Ù…Ø³') || lowerQuestion.includes('Ø§Ù„Ø´Ù…ÙˆØ³')) {
        return "Ø§Ù„Ø´Ù…Ø³ Ù‡ÙŠ Ø§Ù„Ù†Ø¬Ù… Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ ÙÙŠ Ù†Ø¸Ø§Ù…Ù†Ø§ Ø§Ù„Ø´Ù…Ø³ÙŠ. ØªØ¯ÙˆØ± Ø§Ù„Ø£Ø±Ø¶ Ø­ÙˆÙ„ Ø§Ù„Ø´Ù…Ø³ Ù…Ø±Ø© ÙƒÙ„ 365.25 ÙŠÙˆÙ…ØŒ Ù…Ù…Ø§ ÙŠØ³Ø¨Ø¨ ØªØºÙŠØ± Ø§Ù„ÙØµÙˆÙ„.";
    }
    else if (lowerQuestion.includes('Ø§Ù„Ù‚Ù…Ø±') || lowerQuestion.includes('Ø£Ù‚Ù…Ø§Ø±')) {
        return "Ø§Ù„Ù‚Ù…Ø± Ù‡Ùˆ Ø§Ù„ØªØ§Ø¨Ø¹ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ Ø§Ù„ÙˆØ­ÙŠØ¯ Ù„Ù„Ø£Ø±Ø¶. ÙŠØ³ØªØºØ±Ù‚ Ø­ÙˆØ§Ù„ÙŠ 27.3 ÙŠÙˆÙ… Ù„ÙŠØ¯ÙˆØ± Ø­ÙˆÙ„ Ø§Ù„Ø£Ø±Ø¶ØŒ ÙˆÙŠØ³Ø¨Ø¨ Ø¸Ø§Ù‡Ø±Ø© Ø§Ù„Ù…Ø¯ ÙˆØ§Ù„Ø¬Ø²Ø±.";
    }
    else if (lowerQuestion.includes('Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©') || lowerQuestion.includes('Ù…Ø·ÙˆØ±')) {
        return "Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ù‡ÙŠ Ø¹Ù…Ù„ÙŠØ© ÙƒØªØ§Ø¨Ø© ØªØ¹Ù„ÙŠÙ…Ø§Øª Ù„Ù„Ø­Ø§Ø³ÙˆØ¨ Ù„ØªÙ†ÙÙŠØ° Ù…Ù‡Ø§Ù… Ù…Ø­Ø¯Ø¯Ø©. Ø£Ø´Ù‡Ø± Ù„ØºØ§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ØªØ´Ù…Ù„ Python ÙˆJavaScript ÙˆJava ÙˆC++.";
    }
    else if (lowerQuestion.includes('Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ') || lowerQuestion.includes('ai')) {
        return "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù‡Ùˆ Ù…Ø¬Ø§Ù„ Ù…Ù† Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³ÙˆØ¨ ÙŠÙ‡ØªÙ… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù†Ø¸Ù…Ø© Ù‚Ø§Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø£Ø¯Ø§Ø¡ Ù…Ù‡Ø§Ù… ØªØªØ·Ù„Ø¨ Ø°ÙƒØ§Ø¡Ù‹ Ø¨Ø´Ø±ÙŠØ§Ù‹ Ù…Ø«Ù„ Ø§Ù„ØªØ¹Ù„Ù… ÙˆØ§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª.";
    }
    else {
        const responses = [
            "Ù‡Ø°Ø§ Ø³Ø¤Ø§Ù„ Ù…Ø«ÙŠØ± Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù…! Ù„Ù„Ø£Ø³Ù Ù„Ø¯ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø­Ø¯ÙˆØ¯Ø© Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ù…Ø­Ø¯Ø¯. Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø´ÙŠØ¡ Ø¢Ø®Ø±ØŸ",
            "Ø£Ù†Ø§ Ù…ØªØ®ØµØµ Ø£ÙƒØ«Ø± ÙÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙˆØ§Ù„ØªÙ‚Ù†ÙŠØ©ØŒ ÙˆÙ„ÙƒÙ† Ø­Ø³Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙŠ... [Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ø§Ù…Ø©]. Ù‡Ù„ ØªØ±ÙŠØ¯ ØªÙØ§ØµÙŠÙ„ Ø£ÙƒØ«Ø±ØŸ",
            "Ø­Ø§Ù„ÙŠØ§ Ù„Ø§ Ø£Ù…Ù„Ùƒ Ø¥Ø¬Ø§Ø¨Ø© Ø¯Ù‚ÙŠÙ‚Ø© Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ØŒ Ù„ÙƒÙ†ÙŠ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙˆØ§Ù„ØªÙ‚Ù†ÙŠØ©.",
            "Ù‡Ø°Ø§ Ø®Ø§Ø±Ø¬ Ù†Ø·Ø§Ù‚ ØªØ®ØµØµÙŠ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØŒ Ù„ÙƒÙ†ÙŠ Ø£Ø­Ø§ÙˆÙ„ Ø§Ù„ØªØ¹Ù„Ù… Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±. Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø£Ø³Ø¦Ù„Ø© Ø¹Ù† Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø£Ùˆ ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨ØŸ"
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
}

// Get English general knowledge answer
function getEnglishGeneralAnswer(question) {
    const lowerQuestion = question.toLowerCase();
    
    // Sample knowledge base in English
    if (lowerQuestion.includes('sun') || lowerQuestion.includes('solar')) {
        return "The Sun is the star at the center of our solar system. Earth orbits around the Sun once every 365.25 days, causing the seasons to change.";
    }
    else if (lowerQuestion.includes('moon') || lowerQuestion.includes('lunar')) {
        return "The Moon is Earth's only natural satellite. It takes about 27.3 days to orbit Earth and causes the tides.";
    }
    else if (lowerQuestion.includes('programming') || lowerQuestion.includes('developer')) {
        return "Programming is the process of writing instructions for computers to perform specific tasks. Popular programming languages include Python, JavaScript, Java, and C++.";
    }
    else if (lowerQuestion.includes('artificial intelligence') || lowerQuestion.includes('ai')) {
        return "Artificial Intelligence is a field of computer science focused on creating systems that can perform tasks requiring human intelligence like learning and decision making.";
    }
    else {
        const responses = [
            "That's an interesting question! Unfortunately I have limited information on this specific topic. Can I help you with something else?",
            "I'm more specialized in programming and tech fields, but from what I know... [general answer]. Would you like more details?",
            "I don't have an exact answer for that right now, but I can help with programming and tech topics.",
            "That's outside my main area of expertise, but I'm constantly learning. Do you have any programming or web development questions?"
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
}

// Detect language of the message
function detectLanguage(text) {
    // Simple detection based on character ranges
    if (/[\u0600-\u06FF]/.test(text)) {
        return 'arabic';
    } else if (/[a-zA-Z]/.test(text)) {
        return 'english';
    }
    return 'unknown';
}


// Get general response based on language
function getGeneralResponse(message) {
    const lang = detectLanguage(message);
    
    if (lang === 'arabic') {
        const responses = [
            "Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ ØªÙˆØ¶ÙŠØ­ Ø·Ù„Ø¨Ùƒ Ø£ÙƒØ«Ø±ØŸ ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ",
            "Ø£Ù†Ø§ Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙˆØ§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©. Ù…Ø§ Ø§Ù„Ø°ÙŠ ØªØ­ØªØ§Ø¬Ù‡ØŸ",
            "Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ù…ÙˆØ¶ÙˆØ¹ Ø¨Ø±Ù…Ø¬Ø© Ù…Ø¹ÙŠÙ† Ø£Ùˆ Ù„Ø¯ÙŠÙƒ Ø³Ø¤Ø§Ù„ Ø¹Ø§Ù…ØŸ",
            "ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø®Ø¯Ù…ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„ØªÙ‚Ù†ÙŠØ© ÙˆØ§Ù„Ø¨Ø±Ù…Ø¬Ø©."
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    } else {
        const responses = [
            "Could you clarify your request? How can I help you today?",
            "I'm here to help with programming and general knowledge. What do you need?",
            "Do you need help with a specific programming topic or have a general question?",
            "How can I assist you today? I can help with technology and programming topics."
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
}

        // Add user message to chat
        function addUserMessage(text) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user-message';
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Add to conversation history
            conversationHistory.push({
                sender: 'user',
                message: text,
                time: new Date().toLocaleTimeString()
            });
        }

        // Add bot message to chat
        function addBotMessage(text) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message bot-message';
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Add to conversation history
            conversationHistory.push({
                sender: 'bot',
                message: text,
                time: new Date().toLocaleTimeString()
            });
        }

        // Add code message to chat
        function addCodeMessage(code, language) {
            const codeDiv = document.createElement('pre');
            codeDiv.className = 'code-editor';
            codeDiv.textContent = code;
            codeDiv.setAttribute('data-language', language);
            chatMessages.appendChild(codeDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Add copy button
            const copyBtn = document.createElement('button');
            copyBtn.className = 'btn btn-secondary';
            copyBtn.textContent = 'Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯';
            copyBtn.style.marginTop = '10px';
            copyBtn.onclick = function() {
                navigator.clipboard.writeText(code);
                copyBtn.textContent = 'ØªÙ… Ø§Ù„Ù†Ø³Ø®!';
                setTimeout(() => {
                    copyBtn.textContent = 'Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯';
                }, 2000);
            };
            
            const container = document.createElement('div');
            container.className = 'bot-message';
            container.appendChild(copyBtn);
            chatMessages.appendChild(container);
            
            // Add to conversation history
            conversationHistory.push({
                sender: 'bot',
                message: '[CODE]',
                code: code,
                language: language,
                time: new Date().toLocaleTimeString()
            });
        }

        // Increment usage counter
        function incrementUsage() {
            if (currentUser && currentUser.plan !== 'enterprise') {
                userUsage++;
                localStorage.setItem('PixyAiUsage', userUsage);
                updateUsage();
            }
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            init();
            
            // Load usage from localStorage
            const savedUsage = localStorage.getItem('PixyAiUsage');
            if (savedUsage) {
                userUsage = parseInt(savedUsage);
                updateUsage();
            }
            
            // Check if usage should reset (new day)
            const lastUsageDate = localStorage.getItem('PixyAiUsageDate');
            const today = new Date().toDateString();
            
            if (lastUsageDate !== today) {
                userUsage = 0;
                localStorage.setItem('PixyAiUsage', '0');
                localStorage.setItem('PixyAiUsageDate', today);
                updateUsage();
            }
        });
    </script>
</body>
</html>
